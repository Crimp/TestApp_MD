{"version":3,"file":"events-interseptor-24.2.js","sources":["../../Scripts/popup/events-interseptor.ts"],"sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { LitElement } from \"lit\";\r\nimport { customElement, property } from \"lit/decorators.js\";\r\nexport const dxEventsInterceptorTagName = \"dxbl-events-interceptor\";\r\nlet DxEventsInterceptor = class DxEventsInterceptor extends LitElement {\r\n    constructor() {\r\n        super();\r\n        this.eventsSet = new Set();\r\n        this.events = null;\r\n        this.eventListener = this.handleEvent.bind(this);\r\n        this._value = null;\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    updated(updated) {\r\n        var _a, _b;\r\n        if (updated.has(\"events\")) {\r\n            this.unsubscribe((_a = updated.get(\"events\")) !== null && _a !== void 0 ? _a : null);\r\n            this.eventsSet = new Set((_b = this.events) === null || _b === void 0 ? void 0 : _b.split(\";\"));\r\n            this.subscribe(this.events);\r\n        }\r\n    }\r\n    subscribe(events) {\r\n        var _a;\r\n        (_a = this.events) === null || _a === void 0 ? void 0 : _a.split(\";\").forEach(x => {\r\n            this.addEventListener(x, this.eventListener);\r\n        });\r\n    }\r\n    unsubscribe(events) {\r\n        events === null || events === void 0 ? void 0 : events.split(\";\").forEach(x => {\r\n            this.removeEventListener(x, this.eventListener);\r\n        });\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\n    raise(eventName, args) {\r\n        try {\r\n            if (!this.eventsSet.has(eventName))\r\n                return;\r\n            this._value = JSON.stringify([eventName, args]);\r\n            this.dispatchEvent(new Event(\"change\", { bubbles: true }));\r\n        }\r\n        finally {\r\n            this._value = null;\r\n        }\r\n    }\r\n    handleEvent(evt) {\r\n    }\r\n};\r\n__decorate([\r\n    property({ type: String, attribute: \"events\" })\r\n], DxEventsInterceptor.prototype, \"events\", void 0);\r\nDxEventsInterceptor = __decorate([\r\n    customElement(dxEventsInterceptorTagName)\r\n], DxEventsInterceptor);\r\nexport { DxEventsInterceptor };\r\nexport function init() {\r\n}\r\nexport default { init, DxEventsInterceptor };\r\n"],"names":["LitElement","property","customElement"],"mappings":"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"}