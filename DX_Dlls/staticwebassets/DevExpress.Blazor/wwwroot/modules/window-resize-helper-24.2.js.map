{"version":3,"file":"window-resize-helper-24.2.js","sources":["../../Scripts/global-events.ts","../../Scripts/window-resize-helper.ts"],"sourcesContent":["const windowResizeListeners = [];\r\nconst currentWindowSize = { width: 0, height: 0 };\r\nwindow.addEventListener(\"resize\", (_) => {\r\n    const newWidth = window.innerWidth;\r\n    const newHeight = window.innerHeight;\r\n    if (currentWindowSize.height !== newHeight || currentWindowSize.width !== newWidth) {\r\n        currentWindowSize.height = newHeight;\r\n        currentWindowSize.width = newWidth;\r\n        windowResizeListeners.forEach((h) => h(currentWindowSize));\r\n    }\r\n}, { passive: true });\r\nexport function subscribeWindowResize(eventListener) {\r\n    if (windowResizeListeners.indexOf(eventListener) > -1)\r\n        throw new Error(\"already subscribed\");\r\n    windowResizeListeners.push(eventListener);\r\n    return () => {\r\n        const index = windowResizeListeners.indexOf(eventListener);\r\n        if (index === -1)\r\n            throw new Error(\"already un-subscribed\");\r\n        windowResizeListeners.splice(index, 1);\r\n    };\r\n}\r\n","import { log } from \"./dom-utils\";\r\nimport { subscribeWindowResize } from \"./global-events\";\r\nexport function init(dotNetRef) {\r\n    log(\"WindowResizeHelper: Init()\");\r\n    subscribeWindowResize((newSize) => {\r\n        onWindowResize(dotNetRef, newSize.width);\r\n    });\r\n    onWindowResize(dotNetRef, window.innerWidth);\r\n    return Promise.resolve(\"ok\");\r\n}\r\nfunction onWindowResize(dotNetRef, width) {\r\n    dotNetRef.invokeMethodAsync(\"OnWindowResize\", width).catch(e => console.error(e));\r\n}\r\nexport function dispose() {\r\n    return Promise.resolve(\"ok\");\r\n}\r\nexport default { init, dispose };\r\n"],"names":[],"mappings":"AAAA,MAAM,qBAAqB,GAAG,EAAE,CAAC;AACjC,MAAM,iBAAiB,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC;AAClD,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK;AACzC,IAAI,MAAM,QAAQ,GAAG,MAAM,CAAC,UAAU,CAAC;AACvC,IAAI,MAAM,SAAS,GAAG,MAAM,CAAC,WAAW,CAAC;AACzC,IAAI,IAAI,iBAAiB,CAAC,MAAM,KAAK,SAAS,IAAI,iBAAiB,CAAC,KAAK,KAAK,QAAQ,EAAE;AACxF,QAAQ,iBAAiB,CAAC,MAAM,GAAG,SAAS,CAAC;AAC7C,QAAQ,iBAAiB,CAAC,KAAK,GAAG,QAAQ,CAAC;AAC3C,QAAQ,qBAAqB,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;AACnE,KAAK;AACL,CAAC,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;AACf,SAAS,qBAAqB,CAAC,aAAa,EAAE;AACrD,IAAI,IAAI,qBAAqB,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;AACzD,QAAQ,MAAM,IAAI,KAAK,CAAC,oBAAoB,CAAC,CAAC;AAC9C,IAAI,qBAAqB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;AAC9C,IAAI,OAAO,MAAM;AACjB,QAAQ,MAAM,KAAK,GAAG,qBAAqB,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;AACnE,QAAQ,IAAI,KAAK,KAAK,CAAC,CAAC;AACxB,YAAY,MAAM,IAAI,KAAK,CAAC,uBAAuB,CAAC,CAAC;AACrD,QAAQ,qBAAqB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;AAC/C,KAAK,CAAC;AACN;;ACnBO,SAAS,IAAI,CAAC,SAAS,EAAE;AAEhC,IAAI,qBAAqB,CAAC,CAAC,OAAO,KAAK;AACvC,QAAQ,cAAc,CAAC,SAAS,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;AACjD,KAAK,CAAC,CAAC;AACP,IAAI,cAAc,CAAC,SAAS,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;AACjD,IAAI,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AACjC,CAAC;AACD,SAAS,cAAc,CAAC,SAAS,EAAE,KAAK,EAAE;AAC1C,IAAI,SAAS,CAAC,iBAAiB,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,IAAI,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AACtF,CAAC;AACM,SAAS,OAAO,GAAG;AAC1B,IAAI,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AACjC,CAAC;AACD,2BAAe,EAAE,IAAI,EAAE,OAAO,EAAE;;;;"}