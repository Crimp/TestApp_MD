{"version":3,"file":"dx-memo-24.2.js","sources":["../../Scripts/editors/dx-memo.ts"],"sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { DxTextEditor } from \"./text-editor\";\r\nimport { memoTagName } from \"./constants\";\r\nimport { customElement } from \"lit/decorators.js\";\r\nimport { CssClasses } from \"../css-classes\";\r\nexport class MemoCssClasses {\r\n}\r\nMemoCssClasses.Memo = CssClasses.Prefix + \"-memo-edit\";\r\nlet DxMemoEditor = class DxMemoEditor extends DxTextEditor {\r\n    constructor() {\r\n        super();\r\n        this.textAreaObserver = new MutationObserver(this.textAreaSizeChanged.bind(this));\r\n    }\r\n    connectedOrContentChanged() {\r\n        super.connectedOrContentChanged();\r\n        const inputElement = this.getFieldElement();\r\n        if (inputElement)\r\n            this.textAreaObserver.observe(inputElement, { attributes: true });\r\n    }\r\n    disconnectedCallback() {\r\n        this.textAreaObserver.disconnect();\r\n        super.disconnectedCallback();\r\n    }\r\n    textAreaSizeChanged(r, __) {\r\n        var _a, _b;\r\n        const textArea = r[0].target;\r\n        const textAreaWidth = parseInt(textArea.style.width);\r\n        if (!isNaN(textAreaWidth)) {\r\n            const newWidth = this.offsetWidth - this.clientWidth + textAreaWidth;\r\n            if (this.offsetWidth !== newWidth)\r\n                this.style.width = newWidth + \"px\";\r\n        }\r\n        const textAreaInlineHeight = parseInt(textArea.style.height);\r\n        if (!isNaN(textAreaInlineHeight)) {\r\n            const textAreaMinHeight = parseInt(getComputedStyle(textArea).minHeight);\r\n            const textAreaHeight = textAreaInlineHeight >= textAreaMinHeight ? textAreaInlineHeight : textAreaMinHeight;\r\n            const bottomAreaHeight = (_b = (_a = this.getButtonsArea()) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect().height) !== null && _b !== void 0 ? _b : 0;\r\n            const newHeight = this.offsetHeight - this.clientHeight + textAreaHeight + bottomAreaHeight;\r\n            if (this.offsetHeight !== newHeight)\r\n                this.style.height = newHeight + \"px\";\r\n        }\r\n    }\r\n    get shouldForceInputOnEnter() { return false; }\r\n    getFieldElement() {\r\n        return this.querySelector(\"textarea\");\r\n    }\r\n    getButtonsArea() {\r\n        return this.querySelector(\".dxbl-memo-edit-buttons-area\");\r\n    }\r\n};\r\nDxMemoEditor = __decorate([\r\n    customElement(memoTagName)\r\n], DxMemoEditor);\r\nexport { DxMemoEditor };\r\nfunction loadModule() { }\r\nexport default { loadModule };\r\n"],"names":["customElement"],"mappings":"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"}