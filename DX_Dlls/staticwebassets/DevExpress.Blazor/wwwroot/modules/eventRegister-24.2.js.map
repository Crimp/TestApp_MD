{"version":3,"file":"eventRegister-24.2.js","sources":["../../Scripts/eventRegister.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\r\nexport class EventRegister {\r\n    constructor(context) {\r\n        this.eventTokens = [];\r\n        this.context = context;\r\n    }\r\n    attachEventWithContext(element, eventName, func, _context) {\r\n        if (!this.eventTokens || !_context || !element)\r\n            return { item: null, name: null, delegate: null, dispose: () => { } };\r\n        const f = func.bind(_context);\r\n        element.addEventListener(eventName, f);\r\n        const eventToken = {\r\n            item: element,\r\n            name: eventName,\r\n            delegate: f,\r\n            dispose: () => {\r\n                this.detachEvent(eventToken);\r\n            }\r\n        };\r\n        this.eventTokens.push(eventToken);\r\n        return eventToken;\r\n    }\r\n    attachEvent(element, eventName, func) {\r\n        return this.attachEventWithContext(element, eventName, func, this.context);\r\n    }\r\n    detachEvent(token) {\r\n        if (!this.eventTokens)\r\n            return null;\r\n        if (!token || !token.item || !token.name || !token.delegate)\r\n            return false;\r\n        const i = this.eventTokens.indexOf(token);\r\n        if (i >= 0) {\r\n            token.item.removeEventListener(token.name, token.delegate);\r\n            this.eventTokens.splice(i, 1);\r\n            token.item = null;\r\n            token.delegate = null;\r\n            token.dispose = () => { };\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    dispose() {\r\n        if (!this.eventTokens)\r\n            return false;\r\n        this.eventTokens.forEach(function (token) {\r\n            if (!token.item || !token.name || !token.delegate)\r\n                return;\r\n            token.item.removeEventListener(token.name, token.delegate);\r\n            token.item = null;\r\n            token.delegate = null;\r\n            token.dispose = () => { };\r\n        });\r\n        this.eventTokens = [];\r\n        return true;\r\n    }\r\n}\r\nexport default { EventRegister };\r\n"],"names":[],"mappings":"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"}