{"version":3,"file":"dxbl-window-24.2.js","sources":["../../Scripts/async-utils.ts","../../Scripts/components/dxbl-window.ts"],"sourcesContent":["export function getNextIdleFramePromise() {\r\n    return new Promise((resolve, _) => {\r\n        requestAnimationFrame(() => {\r\n            setTimeout(resolve);\r\n        });\r\n    });\r\n}\r\n","var DxWindow_1;\r\nimport { __decorate } from \"tslib\";\r\nimport { customElement, property } from \"lit/decorators.js\";\r\nimport { DxDropDownBase } from \"../popup/dropdown\";\r\nimport { DxPopupDraggableDialog } from \"../popup/popupbasedialog\";\r\nimport { registeredComponents } from \"../popup/dropdowncomponents\";\r\nimport { DxDropDownRoot } from \"../popup/dropdownroot\";\r\nimport { html } from \"lit\";\r\nimport { Point } from \"../utils/point\";\r\nimport { CloseMode, CustomPopupPlacement, DropAlignment, DropDirection, PlacementMode, PopupKeyboardStrategyActivateEvent, PopupPrimaryAxis, PopupZIndexDeltaChangeEvent, ZIndexDeltaChangeContext } from \"../popup/popup\";\r\nimport { getNextIdleFramePromise } from \"../async-utils\";\r\nimport { popupResizableContainerTagName } from \"../popup/dxbl-popup-resizable-container\";\r\nimport { addLayoutChangeHandlers } from \"../popup/utils\";\r\nimport { BranchType } from \"../popup/branchtree\";\r\nimport { PopupWindowKeyboardStrategy } from \"../popup/keyboard-navigation\";\r\nimport { dxWindowDialogTagName, dxWindowRootTagName, dxWindowTagName } from \"../popup/constants\";\r\nvar HorizontalAlignment;\r\n(function (HorizontalAlignment) {\r\n    HorizontalAlignment[\"Center\"] = \"Center\";\r\n    HorizontalAlignment[\"Left\"] = \"Left\";\r\n    HorizontalAlignment[\"Right\"] = \"Right\";\r\n})(HorizontalAlignment || (HorizontalAlignment = {}));\r\nvar VerticalAlignment;\r\n(function (VerticalAlignment) {\r\n    VerticalAlignment[\"Top\"] = \"Top\";\r\n    VerticalAlignment[\"Center\"] = \"Center\";\r\n    VerticalAlignment[\"Bottom\"] = \"Bottom\";\r\n})(VerticalAlignment || (VerticalAlignment = {}));\r\nconst _ = [registeredComponents, popupResizableContainerTagName];\r\nlet DxWindowDialog = class DxWindowDialog extends DxPopupDraggableDialog {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.allowResize = false;\r\n    }\r\n    get header() {\r\n        return this.querySelector(\".dxbl-window-header\");\r\n    }\r\n    render() {\r\n        if (!this.allowResize)\r\n            return html `<slot></slot>`;\r\n        return html `<dxbl-popup-resizable-container><slot></slot></dxbl-popup-resizable-container>`;\r\n    }\r\n};\r\n__decorate([\r\n    property({ type: Boolean, attribute: \"allow-resize\", reflect: false })\r\n], DxWindowDialog.prototype, \"allowResize\", void 0);\r\nDxWindowDialog = __decorate([\r\n    customElement(\"dxbl-window-dialog\")\r\n], DxWindowDialog);\r\nlet DxWindowRoot = class DxWindowRoot extends DxDropDownRoot {\r\n    constructor() {\r\n        super();\r\n    }\r\n};\r\nDxWindowRoot = __decorate([\r\n    customElement(dxWindowRootTagName)\r\n], DxWindowRoot);\r\nlet DxWindow = DxWindow_1 = class DxWindow extends DxDropDownBase {\r\n    constructor() {\r\n        super();\r\n        this.actualSize = null;\r\n        this.actualPosition = null;\r\n        this.initialSize = null;\r\n        this.initialPosition = null;\r\n        this.actualMinWidth = null;\r\n        this.actualMaxWidth = null;\r\n        this.actualMinHeight = null;\r\n        this.actualMaxHeight = null;\r\n        this.sizeDirty = false;\r\n        this.positionYDirty = false;\r\n        this.positionXDirty = false;\r\n        this.showAnchorElement = null;\r\n        this._showOptionsToApply = null;\r\n        this.childContentObserver = null;\r\n        this.isAdjustDialogEnabled = true;\r\n        this.horizontalAlignment = HorizontalAlignment.Center;\r\n        this.verticalAlignment = VerticalAlignment.Center;\r\n        this.closeOnEscape = false;\r\n        this.placement = PlacementMode.Custom;\r\n        this.closeMode = CloseMode.None;\r\n        addLayoutChangeHandlers(this);\r\n    }\r\n    get branchType() {\r\n        return BranchType.Window;\r\n    }\r\n    get canAdjustZIndexOnShow() {\r\n        return false;\r\n    }\r\n    get positionY() {\r\n        return this.offset.y;\r\n    }\r\n    set positionY(value) {\r\n        this.positionYDirty = true;\r\n        this.offset = new Point(this.positionX || 0, value || 0);\r\n    }\r\n    get positionX() {\r\n        return this.offset.x;\r\n    }\r\n    set positionX(value) {\r\n        this.positionXDirty = true;\r\n        this.offset = new Point(value || 0, this.positionY || 0);\r\n    }\r\n    get showOptionsToApply() {\r\n        return this._showOptionsToApply;\r\n    }\r\n    set showOptionsToApply(value) {\r\n        this._showOptionsToApply = value;\r\n        this.positionXDirty = false;\r\n        this.positionYDirty = false;\r\n    }\r\n    move(options) {\r\n        this.showOptionsToApply = options;\r\n        this.forceReposition();\r\n        return getNextIdleFramePromise();\r\n    }\r\n    showAt(options) {\r\n        this.showOptionsToApply = options;\r\n        this.observeChildContent(this);\r\n        super.show();\r\n        return getNextIdleFramePromise();\r\n    }\r\n    show() {\r\n        this.showAt(this.showOptionsToApply).catch(_ => { });\r\n    }\r\n    observeChildContent(observedElement) {\r\n        var _a;\r\n        (_a = this.childContentObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\r\n        if (this.contentLoaded())\r\n            this.enableVisibility();\r\n        else {\r\n            this.childContentObserver = new MutationObserver(this.handleChildContentChanged.bind(this));\r\n            this.childContentObserver.observe(observedElement, { childList: true });\r\n        }\r\n    }\r\n    handleChildContentChanged(records) {\r\n        var _a;\r\n        const dialogElement = this.querySelector(dxWindowDialogTagName);\r\n        if (dialogElement) {\r\n            if (dialogElement.childElementCount > 0) {\r\n                this.enableVisibility();\r\n                (_a = this.childContentObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\r\n            }\r\n            else\r\n                this.observeChildContent(dialogElement);\r\n        }\r\n        else\r\n            this.observeChildContent(this);\r\n    }\r\n    contentLoaded() {\r\n        const dialogElement = this.querySelector(dxWindowDialogTagName);\r\n        return dialogElement !== null && dialogElement.childElementCount > 0;\r\n    }\r\n    disconnectedCallback() {\r\n        var _a;\r\n        super.disconnectedCallback();\r\n        (_a = this.childContentObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\r\n    }\r\n    static getPlacementTargetClientRect(options) {\r\n        if (options !== null) {\r\n            if (options.targetReference !== null && options.targetReference instanceof HTMLElement)\r\n                return options.targetReference.getBoundingClientRect();\r\n            if (options.targetSelector !== null) {\r\n                const target = document.querySelector(options.targetSelector);\r\n                if (target !== null)\r\n                    return target.getBoundingClientRect();\r\n            }\r\n        }\r\n        return {\r\n            x: 0,\r\n            y: 0,\r\n            width: window.innerWidth,\r\n            height: window.innerHeight\r\n        };\r\n    }\r\n    static getShowAtBox(options) {\r\n        if (options === null)\r\n            return null;\r\n        if (options.targetReference !== null && options.targetReference instanceof HTMLElement)\r\n            return DxWindow_1.getElementTopLeftPoint(options.targetReference);\r\n        if (options.targetSelector !== null)\r\n            return DxWindow_1.getElementTopLeftPoint(document.querySelector(options.targetSelector));\r\n        return options.targetPoint;\r\n    }\r\n    static getElementTopLeftPoint(targetReference) {\r\n        if (targetReference === null)\r\n            return null;\r\n        const box = targetReference.getBoundingClientRect();\r\n        return new Point(box.left, box.top);\r\n    }\r\n    canProcessEscapeKeyDown() {\r\n        return this.closeOnEscape;\r\n    }\r\n    activatePopupContent() {\r\n        this.dispatchEvent(new PopupKeyboardStrategyActivateEvent(this.initialVisibility));\r\n    }\r\n    renderTemplate() {\r\n        return html `\r\n            <dxbl-branch\r\n                id=\"branch\"\r\n                branch-id=\"${this.branchId}\"\r\n                parent-branch-id=\"${this.parentBranchId}\"\r\n                type=\"${this.branchType}\"\r\n                style=\"${this.dragCssStyle}\">\r\n                <dxbl-window-root\r\n                    id=\"root\"\r\n                    style=\"${this.rootCssStyle}\"\r\n                    ?resizing=\"${this.resizing}\"\r\n                    drop-opposite=\"${this.actualDropOpposite}\"\r\n                    drop-direction=\"${this.actualDropDirection}\"\r\n                    drop-alignment=\"${this.actualDropAlignment}\">\r\n                    ${this.renderDefaultSlot()}\r\n                    ${this.renderAdditionalSlots()}\r\n                    ${this.renderBridgeSlot()}\r\n                </dxbl-window-root>\r\n            </dxbl-branch>\r\n        `;\r\n    }\r\n    raiseResizeCompleted(width, height) {\r\n        this.sizeDirty = true;\r\n        super.raiseResizeCompleted(width, height);\r\n    }\r\n    processCustomPlacement(childPoints, placementTargetPoints) {\r\n        if (this.positionXDirty || this.positionYDirty || this.isInDragOperation || this.sizeDirty)\r\n            return null;\r\n        const options = this.showOptionsToApply;\r\n        if (options) {\r\n            const targetPoint = options.targetPoint || this.calcShowPoint(options);\r\n            return [\r\n                new CustomPopupPlacement(targetPoint, PopupPrimaryAxis.None, false, DropDirection.Near, DropAlignment.bottom)\r\n            ];\r\n        }\r\n        return null;\r\n    }\r\n    calcShowPoint(options) {\r\n        const viewPortElementClientRect = DxWindow_1.getPlacementTargetClientRect(options);\r\n        const selfRect = this.getBoundingClientRect();\r\n        const bodyRect = document.body.getBoundingClientRect();\r\n        const viewPortRect = window.visualViewport != null ? {\r\n            x: 0,\r\n            y: 0,\r\n            width: window.visualViewport.width,\r\n            height: window.visualViewport.height\r\n        } : bodyRect;\r\n        const rawX = this.calcShowXPoint(selfRect, viewPortElementClientRect);\r\n        const rawY = this.calcShowYPoint(selfRect, viewPortElementClientRect);\r\n        const maxX = viewPortRect.x + viewPortRect.width - selfRect.width;\r\n        const maxY = viewPortRect.y + viewPortRect.height - selfRect.height;\r\n        // 1. first of all - try to show entire footer: correctN = -Math.max(0, rawPoint.N - maxN) calculates required delta\r\n        //    to fit entire footer in viewpoert's bottom-right boundary\r\n        // 2. next step - ensure that header is shown entirely: Math.max(0, rawPoint.N + correctN) calculates min N\r\n        //    to fit entire window in viewpoert's top-left boundary despite footer correction, since footer contains UI actions (close, drag etc)\r\n        return new Point(Math.max(0, rawX + window.scrollX - Math.max(0, rawX - maxX)), Math.max(0, rawY + window.scrollY - Math.max(0, rawY - maxY)));\r\n    }\r\n    calcShowXPoint(selfRect, parentRect) {\r\n        return Math.floor((() => {\r\n            switch (this.horizontalAlignment) {\r\n                case HorizontalAlignment.Left:\r\n                    return parentRect.x;\r\n                case HorizontalAlignment.Right:\r\n                    return parentRect.x + parentRect.width - selfRect.width;\r\n                case HorizontalAlignment.Center:\r\n                    return parentRect.x + (parentRect.width / 2) - (selfRect.width / 2);\r\n            }\r\n            throw new Error(\"calcShowXPoint not supported for horizontalAlignment:\" + this.horizontalAlignment);\r\n        })());\r\n    }\r\n    calcShowYPoint(selfRect, parentRect) {\r\n        return Math.floor((() => {\r\n            switch (this.verticalAlignment) {\r\n                case VerticalAlignment.Top:\r\n                    return parentRect.y;\r\n                case VerticalAlignment.Bottom:\r\n                    return parentRect.y + parentRect.height - selfRect.height;\r\n                case VerticalAlignment.Center:\r\n                    return parentRect.y + (parentRect.height / 2) - (selfRect.height / 2);\r\n            }\r\n            throw new Error(\"calcShowYPoint not supported for horizontalAlignment:\" + this.verticalAlignment);\r\n        })());\r\n    }\r\n    updated(changedProperties) {\r\n        super.update(changedProperties);\r\n        if (changedProperties.has(\"zIndex\") && this.zIndex)\r\n            this.raiseZIndexChange();\r\n    }\r\n    raiseZIndexChange() {\r\n        this.updateComplete.then(value => {\r\n            this.dispatchEvent(new PopupZIndexDeltaChangeEvent(new ZIndexDeltaChangeContext(this.zIndex)));\r\n        });\r\n    }\r\n    createKeyboardNavigationStrategy() {\r\n        return new PopupWindowKeyboardStrategy(this.keyboardNavigator, this, true);\r\n    }\r\n};\r\n__decorate([\r\n    property({ type: HorizontalAlignment, attribute: \"horizontal-alignment\", reflect: false })\r\n], DxWindow.prototype, \"horizontalAlignment\", void 0);\r\n__decorate([\r\n    property({ type: HorizontalAlignment, attribute: \"vertical-alignment\", reflect: false })\r\n], DxWindow.prototype, \"verticalAlignment\", void 0);\r\n__decorate([\r\n    property({ type: Number, attribute: \"position-y\", reflect: false })\r\n], DxWindow.prototype, \"positionY\", null);\r\n__decorate([\r\n    property({ type: Number, attribute: \"position-x\", reflect: false })\r\n], DxWindow.prototype, \"positionX\", null);\r\n__decorate([\r\n    property({ type: Boolean, attribute: \"close-on-escape\" })\r\n], DxWindow.prototype, \"closeOnEscape\", void 0);\r\nDxWindow = DxWindow_1 = __decorate([\r\n    customElement(dxWindowTagName)\r\n], DxWindow);\r\nexport { DxWindow };\r\n"],"names":["html","property","customElement"],"mappings":"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"}