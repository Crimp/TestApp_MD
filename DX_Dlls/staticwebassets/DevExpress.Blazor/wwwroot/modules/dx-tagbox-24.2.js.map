{"version":3,"file":"dx-tagbox-24.2.js","sources":["../../Scripts/editors/dropdown/dx-tagbox.ts"],"sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { customElement, property } from \"lit/decorators.js\";\r\nimport { DxComboBox } from \"../combobox/dx-combobox\";\r\nimport { KeyCode } from \"@devexpress/utils/lib/utils/key\";\r\nimport { tagBoxTagName } from \"../constants\";\r\nlet DxTagBox = class DxTagBox extends DxComboBox {\r\n    constructor() {\r\n        super();\r\n        this.customTagsEnable = false;\r\n        this.inputValue = \"\";\r\n    }\r\n    connectedCallback() {\r\n        super.connectedCallback();\r\n    }\r\n    disconnectedCallback() {\r\n        super.disconnectedCallback();\r\n    }\r\n    onTextInput(evt) {\r\n        const input = evt.target;\r\n        this.inputValue = input.value;\r\n        this.fitInputWidth();\r\n        super.onTextInput(evt);\r\n    }\r\n    processFocusOut(evt) {\r\n        var _a;\r\n        if (!this.inputElement)\r\n            return;\r\n        const text = (_a = this.inputElement) === null || _a === void 0 ? void 0 : _a.value;\r\n        const inputHasValue = text && text !== \"\";\r\n        super.processFocusOut(evt);\r\n        if (!this.focused && inputHasValue)\r\n            this.setInputValue(\"\");\r\n    }\r\n    fitInputWidth() {\r\n        if (!this.inputElement)\r\n            return;\r\n        const inputLength = this.inputValue.length;\r\n        this.inputElement.setAttribute(\"size\", inputLength === 0 ? \"1\" : inputLength.toString());\r\n    }\r\n    forceInputValue(value, highlight) {\r\n        this.setInputValue(value);\r\n        if (highlight)\r\n            this.highlightInputText();\r\n    }\r\n    highlightInputText() {\r\n        if (this.inputElement)\r\n            this.inputElement.select();\r\n    }\r\n    applyTextPropertyCore() {\r\n        // TODO: remove\r\n        // this.fieldElementValue = this.fieldText;\r\n    }\r\n    processKeyDownServerCommand(evt) {\r\n        if (this.isKeyDownPreventingDefaultNeeded(evt))\r\n            evt.preventDefault();\r\n        return super.processKeyDownServerCommand(evt);\r\n    }\r\n    isKeyDownPreventingDefaultNeeded(evt) {\r\n        var _a;\r\n        if (evt.keyCode !== KeyCode.Enter)\r\n            return false;\r\n        const inputText = (_a = this.inputElement) === null || _a === void 0 ? void 0 : _a.value;\r\n        if (!inputText || inputText.length === 0)\r\n            return false;\r\n        return true;\r\n    }\r\n    requireSendKeyCommandToServer(evt) {\r\n        if (super.requireSendKeyCommandToServer(evt))\r\n            return true;\r\n        switch (evt.keyCode) {\r\n            case KeyCode.Esc:\r\n                return true;\r\n            case KeyCode.Backspace:\r\n                return !this.inputElement || this.inputElement.value.length === 0;\r\n        }\r\n        return false;\r\n    }\r\n    setInputValue(newValue) {\r\n        if (this.inputElement) {\r\n            this.inputElement[\"value\"] = newValue;\r\n            if (!newValue || newValue === \"\")\r\n                this.inputValue = this.inputElement.placeholder;\r\n            else\r\n                this.inputValue = newValue;\r\n        }\r\n        this.fitInputWidth();\r\n    }\r\n};\r\n__decorate([\r\n    property({ type: Boolean, attribute: \"custom-tags-enable\" })\r\n], DxTagBox.prototype, \"customTagsEnable\", void 0);\r\nDxTagBox = __decorate([\r\n    customElement(tagBoxTagName)\r\n], DxTagBox);\r\nexport function forceInputValue(tagBox, value, highlight) {\r\n    tagBox.forceInputValue(value, highlight);\r\n}\r\nexport default { loadModule, forceInputValue };\r\nfunction loadModule() { }\r\n"],"names":["KeyCode","property","customElement"],"mappings":"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"}