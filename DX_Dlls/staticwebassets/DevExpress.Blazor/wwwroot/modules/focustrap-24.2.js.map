{"version":3,"file":"focustrap-24.2.js","sources":["../../Scripts/postponedaction.ts","../../Scripts/popup/focustrap.ts"],"sourcesContent":["class PostponedAction {\r\n    constructor(postponeAction) {\r\n        this.action = null;\r\n        this.postponeAction = postponeAction;\r\n    }\r\n    executePostpone(action) {\r\n        this.action = null;\r\n        if (this.postponeAction()) {\r\n            action();\r\n            return;\r\n        }\r\n        this.action = action;\r\n    }\r\n    execute() {\r\n        if (this.action && this.postponeAction())\r\n            this.executeForce();\r\n    }\r\n    executeForce() {\r\n        if (this.action)\r\n            this.action();\r\n        this.clear();\r\n    }\r\n    clear() {\r\n        this.action = null;\r\n    }\r\n}\r\nexport { PostponedAction };\r\n","import { Tabbable } from \"./tabbable\";\r\nimport { PostponedAction } from \"../postponedaction\";\r\nimport { LogicalTreeHelper } from \"../utils/logicaltreehelper\";\r\nimport FocusHelper from \"../utils/focushelper\";\r\nconst mutationObserveOptions = {\r\n    subtree: true,\r\n    childList: true,\r\n    attributeFilter: [\"disabled\", \"tabindex\"]\r\n};\r\nclass FocusTrapInfo {\r\n    constructor(blockOutsideClick, blockOutsideNavigation, element, lastFocusedElement, NestedOnly) {\r\n        this.BlockOutsideClick = false;\r\n        this.BlockOutsideNavigation = false;\r\n        this.NestedOnly = false;\r\n        this.BlockOutsideClick = blockOutsideClick;\r\n        this.BlockOutsideNavigation = blockOutsideNavigation;\r\n        this.Element = element;\r\n        this.LastFocusedElement = lastFocusedElement;\r\n        this.NestedOnly = NestedOnly;\r\n    }\r\n}\r\nclass FocusTrap {\r\n    constructor() {\r\n        this.documentFocusInHandler = this.documentFocusIn.bind(this);\r\n        this.documentKeyDownHandler = this.documentKeyDown.bind(this);\r\n        this.firstInnerElementKeyDownHandler = this.firstInnerElementKeyDown.bind(this);\r\n        this.lastInnerElementKeyDownHandler = this.lastInnerElementKeyDown.bind(this);\r\n        this.handleFocusOutHandler = this.handleFocusOut.bind(this);\r\n        this.documentKeyboardTrackerHandler = this.documentKeyboardTracker.bind(this);\r\n        this.documentMouseTrackerHandler = this.documentMouseTracker.bind(this);\r\n        this.tabbables = [];\r\n        this.mutationObserver = new MutationObserver(this.handleMutations.bind(this));\r\n        this.focusPostponedAction = new PostponedAction(() => { var _a, _b; return (_b = ((_a = this.tabbables) === null || _a === void 0 ? void 0 : _a.length) > 0) !== null && _b !== void 0 ? _b : false; });\r\n        this.firstInnerElement = null;\r\n        this.lastInnerElement = null;\r\n        this._stack = [];\r\n        this._lastInputFromPointer = false;\r\n        document.addEventListener(\"keydown\", this.documentKeyboardTrackerHandler, true);\r\n        document.addEventListener(\"pointerdown\", this.documentMouseTrackerHandler, true);\r\n    }\r\n    documentKeyboardTracker(evt) {\r\n        this._lastInputFromPointer = false;\r\n    }\r\n    documentMouseTracker(evt) {\r\n        this._lastInputFromPointer = true;\r\n    }\r\n    get isActivated() {\r\n        return this._stack.length > 0;\r\n    }\r\n    get info() {\r\n        return this.isActivated ? this._stack[this._stack.length - 1] : null;\r\n    }\r\n    get element() {\r\n        var _a, _b;\r\n        return (_b = (_a = this.info) === null || _a === void 0 ? void 0 : _a.Element) !== null && _b !== void 0 ? _b : null;\r\n    }\r\n    get blockOutsideClick() {\r\n        var _a, _b;\r\n        return (_b = (_a = this.info) === null || _a === void 0 ? void 0 : _a.BlockOutsideClick) !== null && _b !== void 0 ? _b : null;\r\n    }\r\n    get blockOutsideNavigation() {\r\n        var _a, _b;\r\n        return (_b = (_a = this.info) === null || _a === void 0 ? void 0 : _a.BlockOutsideNavigation) !== null && _b !== void 0 ? _b : null;\r\n    }\r\n    get lastFocusedElement() {\r\n        var _a, _b;\r\n        return (_b = (_a = this.info) === null || _a === void 0 ? void 0 : _a.LastFocusedElement) !== null && _b !== void 0 ? _b : null;\r\n    }\r\n    get nestedOnly() {\r\n        var _a, _b;\r\n        return (_b = (_a = this.info) === null || _a === void 0 ? void 0 : _a.NestedOnly) !== null && _b !== void 0 ? _b : null;\r\n    }\r\n    filterStack(element) {\r\n        if (element)\r\n            this._stack = this._stack.filter(item => item.Element !== element);\r\n    }\r\n    activate(element, blockOutsideNavigation, nestedOnly = false, blockOutsideClick = blockOutsideNavigation) {\r\n        if (typeof element === \"string\")\r\n            element = document.querySelector(element);\r\n        if (element == null)\r\n            throw \"element is null\";\r\n        if (this.element)\r\n            this.deactivateCore();\r\n        const lastFocusedElement = document.activeElement;\r\n        this.filterStack(element);\r\n        this._stack.push(new FocusTrapInfo(blockOutsideClick, blockOutsideNavigation, element, lastFocusedElement, nestedOnly));\r\n        this.activateCore();\r\n    }\r\n    activateCore() {\r\n        if (!this.element)\r\n            return;\r\n        if (this.blockOutsideClick || this.blockOutsideNavigation)\r\n            this.subscribe(this.element);\r\n        this.tabbables = Tabbable.getTabbables(this.element, !this.nestedOnly);\r\n        this.updateInnerElements();\r\n        this.subscribeInnerElementsKeyDown();\r\n        this.focusPostponedAction.executePostpone(this.forceFocusFirstElement.bind(this));\r\n        this.mutationObserver.observe(this.element, mutationObserveOptions);\r\n    }\r\n    deactivate(element, restoreFocus) {\r\n        var _a;\r\n        if (!this.isActivated || !element)\r\n            return;\r\n        if (this.element !== element) {\r\n            this.filterStack(element);\r\n            return;\r\n        }\r\n        this.deactivateCore();\r\n        const lastFocusedElement = (_a = this._stack.pop()) === null || _a === void 0 ? void 0 : _a.LastFocusedElement;\r\n        if (restoreFocus && !LogicalTreeHelper.containsElement(element, document.activeElement) && lastFocusedElement)\r\n            FocusHelper.restoreFocus(lastFocusedElement);\r\n        if (this.element)\r\n            this.activateCore();\r\n    }\r\n    deactivateCore() {\r\n        if (!this.element)\r\n            return;\r\n        this.focusPostponedAction.clear();\r\n        this.mutationObserver.disconnect();\r\n        this.unsubscribeDocument();\r\n        this.unsubscribe(this.element);\r\n        this.unsubscribeInnerElementsKeyDown();\r\n        clearTimeout(this.updateTabbablesTimerID);\r\n    }\r\n    forceFocusFirstElement() {\r\n        const first = this.tabbables[0];\r\n        if (!first)\r\n            return;\r\n        if (this.lastFocusedElement && this.element && LogicalTreeHelper.containsElement(this.element, document.activeElement))\r\n            return;\r\n        FocusHelper.restoreFocus(first);\r\n    }\r\n    handleMutations(records) {\r\n        clearTimeout(this.updateTabbablesTimerID);\r\n        this.updateTabbablesTimerID = setTimeout(this.updateSubscriptions.bind(this), 50);\r\n    }\r\n    updateSubscriptions() {\r\n        this.tabbables = Tabbable.getTabbables(this.element, !this.nestedOnly);\r\n        this.unsubscribeInnerElementsKeyDown();\r\n        this.updateInnerElements();\r\n        this.subscribeInnerElementsKeyDown();\r\n        this.focusPostponedAction.execute();\r\n    }\r\n    subscribe(element) {\r\n        this.element.addEventListener(\"focusout\", this.handleFocusOutHandler, true);\r\n    }\r\n    unsubscribe(element) {\r\n        this.element.removeEventListener(\"focusout\", this.handleFocusOutHandler, true);\r\n    }\r\n    handleFocusOut(e) {\r\n        if (this._lastInputFromPointer) {\r\n            if (!this.blockOutsideClick)\r\n                return;\r\n        }\r\n        else if (!this.blockOutsideNavigation)\r\n            return;\r\n        const relatedTarget = e.relatedTarget;\r\n        if (!relatedTarget) {\r\n            this.subscribeDocument();\r\n            return;\r\n        }\r\n        if (!this.element.contains(relatedTarget)) {\r\n            this.focusPostponedAction.executePostpone(this.forceFocusFirstElement.bind(this));\r\n            return;\r\n        }\r\n    }\r\n    subscribeDocument() {\r\n        document.addEventListener(\"focusin\", this.documentFocusInHandler);\r\n        document.addEventListener(\"keydown\", this.documentKeyDownHandler);\r\n    }\r\n    unsubscribeDocument() {\r\n        document.removeEventListener(\"keydown\", this.documentKeyDownHandler);\r\n        document.removeEventListener(\"focusin\", this.documentFocusInHandler);\r\n    }\r\n    documentKeyDown(e) {\r\n        var _a;\r\n        const target = e.target;\r\n        if (target && (this.element === target || ((_a = this.element) === null || _a === void 0 ? void 0 : _a.contains(target))))\r\n            return;\r\n        const requireReraise = this.element;\r\n        if (!requireReraise)\r\n            return;\r\n        requireReraise.processKeyDown(e);\r\n    }\r\n    documentFocusIn(e) {\r\n        const target = e.target;\r\n        if (!target)\r\n            return;\r\n        this.unsubscribeDocument();\r\n        const relatedTarget = e.relatedTarget;\r\n        if (!relatedTarget && !this.element.contains(target)) {\r\n            this.focusPostponedAction.executePostpone(this.forceFocusFirstElement.bind(this));\r\n            return;\r\n        }\r\n        if (relatedTarget && !this.element.contains(relatedTarget)) {\r\n            this.focusPostponedAction.executePostpone(this.forceFocusFirstElement.bind(this));\r\n            return;\r\n        }\r\n    }\r\n    firstInnerElementKeyDown(e) {\r\n        var _a;\r\n        if (this.firstInnerElement === document.activeElement && e.key === \"Tab\" && e.shiftKey) {\r\n            e.preventDefault();\r\n            (_a = this.lastInnerElement) === null || _a === void 0 ? void 0 : _a.focus({ preventScroll: false });\r\n        }\r\n    }\r\n    lastInnerElementKeyDown(e) {\r\n        var _a;\r\n        if (this.lastInnerElement === document.activeElement && e.key === \"Tab\" && !e.shiftKey) {\r\n            e.preventDefault();\r\n            (_a = this.firstInnerElement) === null || _a === void 0 ? void 0 : _a.focus({ preventScroll: false });\r\n        }\r\n    }\r\n    unsubscribeInnerElementsKeyDown() {\r\n        var _a, _b;\r\n        (_a = this.firstInnerElement) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"keydown\", this.firstInnerElementKeyDownHandler);\r\n        (_b = this.lastInnerElement) === null || _b === void 0 ? void 0 : _b.removeEventListener(\"keydown\", this.lastInnerElementKeyDownHandler);\r\n    }\r\n    subscribeInnerElementsKeyDown() {\r\n        var _a, _b;\r\n        (_a = this.firstInnerElement) === null || _a === void 0 ? void 0 : _a.addEventListener(\"keydown\", this.firstInnerElementKeyDownHandler);\r\n        (_b = this.lastInnerElement) === null || _b === void 0 ? void 0 : _b.addEventListener(\"keydown\", this.lastInnerElementKeyDownHandler);\r\n    }\r\n    updateInnerElements() {\r\n        if (!this.tabbables)\r\n            return;\r\n        this.firstInnerElement = this.tabbables[0];\r\n        this.lastInnerElement = this.tabbables[this.tabbables.length - 1];\r\n    }\r\n}\r\nconst focusTrapSingleton = new FocusTrap();\r\nexport { FocusTrap, focusTrapSingleton };\r\n"],"names":[],"mappings":";;;;AAAA,MAAM,eAAe,CAAC;AACtB,IAAI,WAAW,CAAC,cAAc,EAAE;AAChC,QAAQ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;AAC3B,QAAQ,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;AAC7C,KAAK;AACL,IAAI,eAAe,CAAC,MAAM,EAAE;AAC5B,QAAQ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;AAC3B,QAAQ,IAAI,IAAI,CAAC,cAAc,EAAE,EAAE;AACnC,YAAY,MAAM,EAAE,CAAC;AACrB,YAAY,OAAO;AACnB,SAAS;AACT,QAAQ,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AAC7B,KAAK;AACL,IAAI,OAAO,GAAG;AACd,QAAQ,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,cAAc,EAAE;AAChD,YAAY,IAAI,CAAC,YAAY,EAAE,CAAC;AAChC,KAAK;AACL,IAAI,YAAY,GAAG;AACnB,QAAQ,IAAI,IAAI,CAAC,MAAM;AACvB,YAAY,IAAI,CAAC,MAAM,EAAE,CAAC;AAC1B,QAAQ,IAAI,CAAC,KAAK,EAAE,CAAC;AACrB,KAAK;AACL,IAAI,KAAK,GAAG;AACZ,QAAQ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;AAC3B,KAAK;AACL;;ACrBA,MAAM,sBAAsB,GAAG;AAC/B,IAAI,OAAO,EAAE,IAAI;AACjB,IAAI,SAAS,EAAE,IAAI;AACnB,IAAI,eAAe,EAAE,CAAC,UAAU,EAAE,UAAU,CAAC;AAC7C,CAAC,CAAC;AACF,MAAM,aAAa,CAAC;AACpB,IAAI,WAAW,CAAC,iBAAiB,EAAE,sBAAsB,EAAE,OAAO,EAAE,kBAAkB,EAAE,UAAU,EAAE;AACpG,QAAQ,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;AACvC,QAAQ,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;AAC5C,QAAQ,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;AAChC,QAAQ,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;AACnD,QAAQ,IAAI,CAAC,sBAAsB,GAAG,sBAAsB,CAAC;AAC7D,QAAQ,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;AAC/B,QAAQ,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;AACrD,QAAQ,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;AACrC,KAAK;AACL,CAAC;AACD,MAAM,SAAS,CAAC;AAChB,IAAI,WAAW,GAAG;AAClB,QAAQ,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACtE,QAAQ,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACtE,QAAQ,IAAI,CAAC,+BAA+B,GAAG,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACxF,QAAQ,IAAI,CAAC,8BAA8B,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACtF,QAAQ,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACpE,QAAQ,IAAI,CAAC,8BAA8B,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACtF,QAAQ,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAChF,QAAQ,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;AAC5B,QAAQ,IAAI,CAAC,gBAAgB,GAAG,IAAI,gBAAgB,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;AACtF,QAAQ,IAAI,CAAC,oBAAoB,GAAG,IAAI,eAAe,CAAC,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,IAAI,CAAC,SAAS,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,MAAM,IAAI,CAAC,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;AAChN,QAAQ,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;AACtC,QAAQ,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;AACrC,QAAQ,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;AACzB,QAAQ,IAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC;AAC3C,QAAQ,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,8BAA8B,EAAE,IAAI,CAAC,CAAC;AACxF,QAAQ,QAAQ,CAAC,gBAAgB,CAAC,aAAa,EAAE,IAAI,CAAC,2BAA2B,EAAE,IAAI,CAAC,CAAC;AACzF,KAAK;AACL,IAAI,uBAAuB,CAAC,GAAG,EAAE;AACjC,QAAQ,IAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC;AAC3C,KAAK;AACL,IAAI,oBAAoB,CAAC,GAAG,EAAE;AAC9B,QAAQ,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;AAC1C,KAAK;AACL,IAAI,IAAI,WAAW,GAAG;AACtB,QAAQ,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;AACtC,KAAK;AACL,IAAI,IAAI,IAAI,GAAG;AACf,QAAQ,OAAO,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;AAC7E,KAAK;AACL,IAAI,IAAI,OAAO,GAAG;AAClB,QAAQ,IAAI,EAAE,EAAE,EAAE,CAAC;AACnB,QAAQ,OAAO,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,OAAO,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;AAC7H,KAAK;AACL,IAAI,IAAI,iBAAiB,GAAG;AAC5B,QAAQ,IAAI,EAAE,EAAE,EAAE,CAAC;AACnB,QAAQ,OAAO,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,iBAAiB,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;AACvI,KAAK;AACL,IAAI,IAAI,sBAAsB,GAAG;AACjC,QAAQ,IAAI,EAAE,EAAE,EAAE,CAAC;AACnB,QAAQ,OAAO,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,sBAAsB,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;AAC5I,KAAK;AACL,IAAI,IAAI,kBAAkB,GAAG;AAC7B,QAAQ,IAAI,EAAE,EAAE,EAAE,CAAC;AACnB,QAAQ,OAAO,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,kBAAkB,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;AACxI,KAAK;AACL,IAAI,IAAI,UAAU,GAAG;AACrB,QAAQ,IAAI,EAAE,EAAE,EAAE,CAAC;AACnB,QAAQ,OAAO,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,UAAU,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;AAChI,KAAK;AACL,IAAI,WAAW,CAAC,OAAO,EAAE;AACzB,QAAQ,IAAI,OAAO;AACnB,YAAY,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,IAAI,IAAI,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;AAC/E,KAAK;AACL,IAAI,QAAQ,CAAC,OAAO,EAAE,sBAAsB,EAAE,UAAU,GAAG,KAAK,EAAE,iBAAiB,GAAG,sBAAsB,EAAE;AAC9G,QAAQ,IAAI,OAAO,OAAO,KAAK,QAAQ;AACvC,YAAY,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;AACtD,QAAQ,IAAI,OAAO,IAAI,IAAI;AAC3B,YAAY,MAAM,iBAAiB,CAAC;AACpC,QAAQ,IAAI,IAAI,CAAC,OAAO;AACxB,YAAY,IAAI,CAAC,cAAc,EAAE,CAAC;AAClC,QAAQ,MAAM,kBAAkB,GAAG,QAAQ,CAAC,aAAa,CAAC;AAC1D,QAAQ,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;AAClC,QAAQ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,aAAa,CAAC,iBAAiB,EAAE,sBAAsB,EAAE,OAAO,EAAE,kBAAkB,EAAE,UAAU,CAAC,CAAC,CAAC;AAChI,QAAQ,IAAI,CAAC,YAAY,EAAE,CAAC;AAC5B,KAAK;AACL,IAAI,YAAY,GAAG;AACnB,QAAQ,IAAI,CAAC,IAAI,CAAC,OAAO;AACzB,YAAY,OAAO;AACnB,QAAQ,IAAI,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,sBAAsB;AACjE,YAAY,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACzC,QAAQ,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;AAC/E,QAAQ,IAAI,CAAC,mBAAmB,EAAE,CAAC;AACnC,QAAQ,IAAI,CAAC,6BAA6B,EAAE,CAAC;AAC7C,QAAQ,IAAI,CAAC,oBAAoB,CAAC,eAAe,CAAC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;AAC1F,QAAQ,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,sBAAsB,CAAC,CAAC;AAC5E,KAAK;AACL,IAAI,UAAU,CAAC,OAAO,EAAE,YAAY,EAAE;AACtC,QAAQ,IAAI,EAAE,CAAC;AACf,QAAQ,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,OAAO;AACzC,YAAY,OAAO;AACnB,QAAQ,IAAI,IAAI,CAAC,OAAO,KAAK,OAAO,EAAE;AACtC,YAAY,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;AACtC,YAAY,OAAO;AACnB,SAAS;AACT,QAAQ,IAAI,CAAC,cAAc,EAAE,CAAC;AAC9B,QAAQ,MAAM,kBAAkB,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,kBAAkB,CAAC;AACvH,QAAQ,IAAI,YAAY,IAAI,CAAC,iBAAiB,CAAC,eAAe,CAAC,OAAO,EAAE,QAAQ,CAAC,aAAa,CAAC,IAAI,kBAAkB;AACrH,YAAY,WAAW,CAAC,YAAY,CAAC,kBAAkB,CAAC,CAAC;AACzD,QAAQ,IAAI,IAAI,CAAC,OAAO;AACxB,YAAY,IAAI,CAAC,YAAY,EAAE,CAAC;AAChC,KAAK;AACL,IAAI,cAAc,GAAG;AACrB,QAAQ,IAAI,CAAC,IAAI,CAAC,OAAO;AACzB,YAAY,OAAO;AACnB,QAAQ,IAAI,CAAC,oBAAoB,CAAC,KAAK,EAAE,CAAC;AAC1C,QAAQ,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,CAAC;AAC3C,QAAQ,IAAI,CAAC,mBAAmB,EAAE,CAAC;AACnC,QAAQ,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACvC,QAAQ,IAAI,CAAC,+BAA+B,EAAE,CAAC;AAC/C,QAAQ,YAAY,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;AAClD,KAAK;AACL,IAAI,sBAAsB,GAAG;AAC7B,QAAQ,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;AACxC,QAAQ,IAAI,CAAC,KAAK;AAClB,YAAY,OAAO;AACnB,QAAQ,IAAI,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,OAAO,IAAI,iBAAiB,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,aAAa,CAAC;AAC9H,YAAY,OAAO;AACnB,QAAQ,WAAW,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;AACxC,KAAK;AACL,IAAI,eAAe,CAAC,OAAO,EAAE;AAC7B,QAAQ,YAAY,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;AAClD,QAAQ,IAAI,CAAC,sBAAsB,GAAG,UAAU,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;AAC1F,KAAK;AACL,IAAI,mBAAmB,GAAG;AAC1B,QAAQ,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;AAC/E,QAAQ,IAAI,CAAC,+BAA+B,EAAE,CAAC;AAC/C,QAAQ,IAAI,CAAC,mBAAmB,EAAE,CAAC;AACnC,QAAQ,IAAI,CAAC,6BAA6B,EAAE,CAAC;AAC7C,QAAQ,IAAI,CAAC,oBAAoB,CAAC,OAAO,EAAE,CAAC;AAC5C,KAAK;AACL,IAAI,SAAS,CAAC,OAAO,EAAE;AACvB,QAAQ,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;AACpF,KAAK;AACL,IAAI,WAAW,CAAC,OAAO,EAAE;AACzB,QAAQ,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;AACvF,KAAK;AACL,IAAI,cAAc,CAAC,CAAC,EAAE;AACtB,QAAQ,IAAI,IAAI,CAAC,qBAAqB,EAAE;AACxC,YAAY,IAAI,CAAC,IAAI,CAAC,iBAAiB;AACvC,gBAAgB,OAAO;AACvB,SAAS;AACT,aAAa,IAAI,CAAC,IAAI,CAAC,sBAAsB;AAC7C,YAAY,OAAO;AACnB,QAAQ,MAAM,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;AAC9C,QAAQ,IAAI,CAAC,aAAa,EAAE;AAC5B,YAAY,IAAI,CAAC,iBAAiB,EAAE,CAAC;AACrC,YAAY,OAAO;AACnB,SAAS;AACT,QAAQ,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE;AACnD,YAAY,IAAI,CAAC,oBAAoB,CAAC,eAAe,CAAC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;AAC9F,YAAY,OAAO;AACnB,SAAS;AACT,KAAK;AACL,IAAI,iBAAiB,GAAG;AACxB,QAAQ,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,sBAAsB,CAAC,CAAC;AAC1E,QAAQ,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,sBAAsB,CAAC,CAAC;AAC1E,KAAK;AACL,IAAI,mBAAmB,GAAG;AAC1B,QAAQ,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,sBAAsB,CAAC,CAAC;AAC7E,QAAQ,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,sBAAsB,CAAC,CAAC;AAC7E,KAAK;AACL,IAAI,eAAe,CAAC,CAAC,EAAE;AACvB,QAAQ,IAAI,EAAE,CAAC;AACf,QAAQ,MAAM,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;AAChC,QAAQ,IAAI,MAAM,KAAK,IAAI,CAAC,OAAO,KAAK,MAAM,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,OAAO,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;AACjI,YAAY,OAAO;AACnB,QAAQ,MAAM,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC;AAC5C,QAAQ,IAAI,CAAC,cAAc;AAC3B,YAAY,OAAO;AACnB,QAAQ,cAAc,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;AACzC,KAAK;AACL,IAAI,eAAe,CAAC,CAAC,EAAE;AACvB,QAAQ,MAAM,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;AAChC,QAAQ,IAAI,CAAC,MAAM;AACnB,YAAY,OAAO;AACnB,QAAQ,IAAI,CAAC,mBAAmB,EAAE,CAAC;AACnC,QAAQ,MAAM,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;AAC9C,QAAQ,IAAI,CAAC,aAAa,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;AAC9D,YAAY,IAAI,CAAC,oBAAoB,CAAC,eAAe,CAAC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;AAC9F,YAAY,OAAO;AACnB,SAAS;AACT,QAAQ,IAAI,aAAa,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE;AACpE,YAAY,IAAI,CAAC,oBAAoB,CAAC,eAAe,CAAC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;AAC9F,YAAY,OAAO;AACnB,SAAS;AACT,KAAK;AACL,IAAI,wBAAwB,CAAC,CAAC,EAAE;AAChC,QAAQ,IAAI,EAAE,CAAC;AACf,QAAQ,IAAI,IAAI,CAAC,iBAAiB,KAAK,QAAQ,CAAC,aAAa,IAAI,CAAC,CAAC,GAAG,KAAK,KAAK,IAAI,CAAC,CAAC,QAAQ,EAAE;AAChG,YAAY,CAAC,CAAC,cAAc,EAAE,CAAC;AAC/B,YAAY,CAAC,EAAE,GAAG,IAAI,CAAC,gBAAgB,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,EAAE,aAAa,EAAE,KAAK,EAAE,CAAC,CAAC;AACjH,SAAS;AACT,KAAK;AACL,IAAI,uBAAuB,CAAC,CAAC,EAAE;AAC/B,QAAQ,IAAI,EAAE,CAAC;AACf,QAAQ,IAAI,IAAI,CAAC,gBAAgB,KAAK,QAAQ,CAAC,aAAa,IAAI,CAAC,CAAC,GAAG,KAAK,KAAK,IAAI,CAAC,CAAC,CAAC,QAAQ,EAAE;AAChG,YAAY,CAAC,CAAC,cAAc,EAAE,CAAC;AAC/B,YAAY,CAAC,EAAE,GAAG,IAAI,CAAC,iBAAiB,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,EAAE,aAAa,EAAE,KAAK,EAAE,CAAC,CAAC;AAClH,SAAS;AACT,KAAK;AACL,IAAI,+BAA+B,GAAG;AACtC,QAAQ,IAAI,EAAE,EAAE,EAAE,CAAC;AACnB,QAAQ,CAAC,EAAE,GAAG,IAAI,CAAC,iBAAiB,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,+BAA+B,CAAC,CAAC;AACnJ,QAAQ,CAAC,EAAE,GAAG,IAAI,CAAC,gBAAgB,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,8BAA8B,CAAC,CAAC;AACjJ,KAAK;AACL,IAAI,6BAA6B,GAAG;AACpC,QAAQ,IAAI,EAAE,EAAE,EAAE,CAAC;AACnB,QAAQ,CAAC,EAAE,GAAG,IAAI,CAAC,iBAAiB,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,+BAA+B,CAAC,CAAC;AAChJ,QAAQ,CAAC,EAAE,GAAG,IAAI,CAAC,gBAAgB,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,8BAA8B,CAAC,CAAC;AAC9I,KAAK;AACL,IAAI,mBAAmB,GAAG;AAC1B,QAAQ,IAAI,CAAC,IAAI,CAAC,SAAS;AAC3B,YAAY,OAAO;AACnB,QAAQ,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;AACnD,QAAQ,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AAC1E,KAAK;AACL,CAAC;AACI,MAAC,kBAAkB,GAAG,IAAI,SAAS;;;;"}