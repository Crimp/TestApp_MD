{"version":3,"file":"evt-24.2.js","sources":["../../node_modules/@devexpress/utils/lib/utils/evt.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EvtUtils = void 0;\r\nvar browser_1 = require(\"../browser\");\r\nvar common_1 = require(\"./common\");\r\nvar dom_1 = require(\"./dom\");\r\nvar touch_1 = require(\"./touch\");\r\nvar EvtUtils = (function () {\r\n    function EvtUtils() {\r\n    }\r\n    EvtUtils.preventEvent = function (evt) {\r\n        if (!evt.cancelable)\r\n            return;\r\n        if (evt.preventDefault)\r\n            evt.preventDefault();\r\n        else\r\n            evt.returnValue = false;\r\n    };\r\n    EvtUtils.getEventSource = function (evt) {\r\n        return common_1.isDefined(evt) ? EvtUtils.getEventSourceCore(evt) : null;\r\n    };\r\n    EvtUtils.getEventSourceByPosition = function (evt) {\r\n        if (!common_1.isDefined(evt))\r\n            return null;\r\n        if (!document.elementFromPoint)\r\n            return EvtUtils.getEventSourceCore(evt);\r\n        var clientX = EvtUtils.getEventX(evt) - (EvtUtils.clientEventRequiresDocScrollCorrection() ? dom_1.DomUtils.getDocumentScrollLeft() : 0);\r\n        var clientY = EvtUtils.getEventY(evt) - (EvtUtils.clientEventRequiresDocScrollCorrection() ? dom_1.DomUtils.getDocumentScrollTop() : 0);\r\n        if (clientX === undefined || clientY === undefined)\r\n            return EvtUtils.getEventSourceCore(evt);\r\n        return document.elementFromPoint(clientX, clientY);\r\n    };\r\n    EvtUtils.getEventSourceCore = function (evt) {\r\n        return evt.srcElement ? evt.srcElement : evt.target;\r\n    };\r\n    EvtUtils.getMouseWheelEventName = function () {\r\n        if (browser_1.Browser.Safari)\r\n            return 'mousewheel';\r\n        if (browser_1.Browser.NetscapeFamily && browser_1.Browser.MajorVersion < 17)\r\n            return 'DOMMouseScroll';\r\n        return 'wheel';\r\n    };\r\n    EvtUtils.isLeftButtonPressed = function (evt) {\r\n        if (touch_1.TouchUtils.isTouchEvent(evt))\r\n            return true;\r\n        evt = (browser_1.Browser.IE && common_1.isDefined(event)) ? event : evt;\r\n        if (!evt)\r\n            return false;\r\n        if (browser_1.Browser.IE && browser_1.Browser.Version < 11)\r\n            return browser_1.Browser.MSTouchUI ? true : evt.button % 2 === 1;\r\n        if (browser_1.Browser.WebKitFamily)\r\n            return (evt.type === 'pointermove' || evt.type === 'pointerenter' || evt.type === 'pointerleave') ? evt.buttons === 1 : evt.which === 1;\r\n        if (browser_1.Browser.NetscapeFamily || browser_1.Browser.Edge || (browser_1.Browser.IE && browser_1.Browser.Version >= 11))\r\n            return EvtUtils.isMoveEventName(evt.type) ? evt.buttons === 1 : evt.which === 1;\r\n        return browser_1.Browser.Opera ? evt.button === 0 : true;\r\n    };\r\n    EvtUtils.isMoveEventName = function (type) {\r\n        return type === touch_1.TouchUtils.touchMouseMoveEventName || type === EvtUtils.getMoveEventName();\r\n    };\r\n    EvtUtils.getMoveEventName = function () {\r\n        return window.PointerEvent ? 'pointermove' : (browser_1.Browser.TouchUI ? 'touchmove' : 'mousemove');\r\n    };\r\n    EvtUtils.preventEventAndBubble = function (evt) {\r\n        EvtUtils.preventEvent(evt);\r\n        if (evt.stopPropagation)\r\n            evt.stopPropagation();\r\n        evt.cancelBubble = true;\r\n    };\r\n    EvtUtils.clientEventRequiresDocScrollCorrection = function () {\r\n        var isSafariVerLess3 = browser_1.Browser.Safari && browser_1.Browser.Version < 3;\r\n        var isMacOSMobileVerLess51 = browser_1.Browser.MacOSMobilePlatform && browser_1.Browser.Version < 5.1;\r\n        return browser_1.Browser.AndroidDefaultBrowser || browser_1.Browser.AndroidChromeBrowser || !(isSafariVerLess3 || isMacOSMobileVerLess51);\r\n    };\r\n    EvtUtils.getEventX = function (evt) {\r\n        if (touch_1.TouchUtils.isTouchEvent(evt))\r\n            return touch_1.TouchUtils.getEventX(evt);\r\n        return evt.clientX + (EvtUtils.clientEventRequiresDocScrollCorrection() ? dom_1.DomUtils.getDocumentScrollLeft() : 0);\r\n    };\r\n    EvtUtils.getEventY = function (evt) {\r\n        if (touch_1.TouchUtils.isTouchEvent(evt))\r\n            return touch_1.TouchUtils.getEventY(evt);\r\n        return evt.clientY + (EvtUtils.clientEventRequiresDocScrollCorrection() ? dom_1.DomUtils.getDocumentScrollTop() : 0);\r\n    };\r\n    EvtUtils.cancelBubble = function (evt) {\r\n        evt.cancelBubble = true;\r\n    };\r\n    EvtUtils.getWheelDelta = function (evt) {\r\n        var ret;\r\n        if (browser_1.Browser.NetscapeFamily && browser_1.Browser.MajorVersion < 17)\r\n            ret = -evt.detail;\r\n        else if (browser_1.Browser.Safari)\r\n            ret = evt.wheelDelta;\r\n        else\r\n            ret = -evt.deltaY;\r\n        if (browser_1.Browser.Opera && browser_1.Browser.Version < 9)\r\n            ret = -ret;\r\n        return ret;\r\n    };\r\n    return EvtUtils;\r\n}());\r\nexports.EvtUtils = EvtUtils;\r\n"],"names":["dom_1","touch_1"],"mappings":"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"}