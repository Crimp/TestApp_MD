{"version":3,"file":"dx-tab-item-24.2.js","sources":["../../Scripts/layout/tabs/tabs-dragging-helper.ts","../../Scripts/layout/tabs/dx-tab-item.ts"],"sourcesContent":["import { DraggingHelperBase } from \"../../common/dragging/dragging-helper\";\r\nimport { CssClasses } from \"../../css-classes\";\r\nimport { ScrollViewerAutoScrollingMode } from \"../../scroll-viewer/dx-scroll-viewer\";\r\nimport { TabsCssClasses } from \"./tabs-css-classes\";\r\nexport class TabDraggingHelper extends DraggingHelperBase {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.dragIndex = -1;\r\n        this.dropIndex = -1;\r\n        this.dxTabs = null;\r\n        this.tabsUl = null;\r\n        this.dxTabItems = null;\r\n        this.dropTargetIndicator = null;\r\n        this.restoreDisabled = false;\r\n        this.boundOnScroll = this.onScroll.bind(this);\r\n    }\r\n    start(srcElement, mouseDownEvt) {\r\n        var _a;\r\n        this.dxTabs = srcElement.tabs;\r\n        this.tabsUl = srcElement.closest(\"ul\");\r\n        this.dxTabItems = Array.from(this.tabsUl.querySelectorAll(`:scope > li > .${TabsCssClasses.Item}`));\r\n        this.dragIndex = this.dxTabItems.indexOf(srcElement);\r\n        this.dropIndex = this.dragIndex;\r\n        super.start(srcElement, mouseDownEvt);\r\n        this.dropTargetIndicator = this.addDropTargetIndicator();\r\n        this.dxTabs.classList.add(CssClasses.Dragging);\r\n        document.body.classList.add(CssClasses.GrabbingCursor);\r\n        if (!srcElement.classList.contains(CssClasses.Disabled)) {\r\n            srcElement.classList.add(CssClasses.Disabled);\r\n            this.restoreDisabled = true;\r\n        }\r\n        const scrollViewer = this.dxTabs.scrollViewer;\r\n        if (scrollViewer) {\r\n            if (this.dxTabs.isVertical)\r\n                scrollViewer.startAutoScrolling(ScrollViewerAutoScrollingMode.Vertical);\r\n            else\r\n                scrollViewer.startAutoScrolling(ScrollViewerAutoScrollingMode.Horizontal);\r\n            (_a = this.dxTabs.scrollViewerContentContainer) === null || _a === void 0 ? void 0 : _a.addEventListener(\"scroll\", this.boundOnScroll);\r\n        }\r\n        document.addEventListener(\"wheel\", this.boundOnScroll);\r\n    }\r\n    stop() {\r\n        var _a, _b;\r\n        const srcElement = this.draggableContext.srcElement;\r\n        super.stop();\r\n        this.removeDropTargetIndicator();\r\n        this.dxTabs.classList.remove(CssClasses.Dragging);\r\n        if (this.restoreDisabled) {\r\n            srcElement.classList.remove(CssClasses.Disabled);\r\n            this.restoreDisabled = false;\r\n        }\r\n        document.body.classList.remove(CssClasses.GrabbingCursor);\r\n        const scrollViewer = this.dxTabs.scrollViewer;\r\n        if (scrollViewer) {\r\n            (_a = this.dxTabs.scrollViewer) === null || _a === void 0 ? void 0 : _a.stopAutoScrolling();\r\n            (_b = this.dxTabs.scrollViewerContentContainer) === null || _b === void 0 ? void 0 : _b.removeEventListener(\"scroll\", this.boundOnScroll);\r\n        }\r\n        document.removeEventListener(\"wheel\", this.boundOnScroll);\r\n        this.dxTabs = null;\r\n        this.tabsUl = null;\r\n        this.dxTabItems = null;\r\n        this.dragIndex = -1;\r\n        this.dropIndex = -1;\r\n    }\r\n    isValidTarget(tab) {\r\n        return this.dxTabs === tab.tabs;\r\n    }\r\n    getDragIndex() {\r\n        return Number(this.dxTabItems[this.dragIndex].index);\r\n    }\r\n    getDropIndex() {\r\n        return Number(this.dxTabItems[this.dropIndex].index);\r\n    }\r\n    getDraggableElement(srcElement) {\r\n        const originalRect = srcElement.getBoundingClientRect();\r\n        const draggableElement = srcElement.cloneNode(true);\r\n        draggableElement.id = \"\";\r\n        draggableElement.style.position = \"fixed\";\r\n        draggableElement.style.top = `${originalRect.top}px`;\r\n        draggableElement.style.left = `${originalRect.left}px`;\r\n        draggableElement.classList.add(CssClasses.Dragging);\r\n        srcElement.parentElement.insertBefore(draggableElement, srcElement);\r\n        return draggableElement;\r\n    }\r\n    hideDraggableElement() {\r\n        super.hideDraggableElement();\r\n        this.draggableContext.dragableElement.remove();\r\n    }\r\n    addDropTargetIndicator() {\r\n        const targetIndicator = document.createElement(\"div\");\r\n        targetIndicator.classList.add(CssClasses.DropTargetIndicator, CssClasses.Invisible);\r\n        this.tabsUl.parentElement.insertBefore(targetIndicator, null);\r\n        return targetIndicator;\r\n    }\r\n    removeDropTargetIndicator() {\r\n        this.dropTargetIndicator.remove();\r\n        this.dropTargetIndicator = null;\r\n    }\r\n    showDropTargetIndicator() {\r\n        this.dropTargetIndicator.classList.remove(CssClasses.Invisible);\r\n    }\r\n    hideDropTargetIndicator() {\r\n        this.dropIndex = this.dragIndex;\r\n        this.dropTargetIndicator.classList.add(CssClasses.Invisible);\r\n    }\r\n    onScroll() {\r\n        this.hideDropTargetIndicator();\r\n    }\r\n    onDocumentScroll(evt) {\r\n        super.onDocumentScroll(evt);\r\n        this.onScroll();\r\n    }\r\n    onDocumentMouseMove(evt) {\r\n        super.onDocumentMouseMove(evt);\r\n        if (evt.target === this.dropTargetIndicator)\r\n            return;\r\n        const tabItem = evt.target.closest(`.${TabsCssClasses.Item}`);\r\n        if (!tabItem || !this.isValidTarget(tabItem)) {\r\n            this.hideDropTargetIndicator();\r\n            return;\r\n        }\r\n        this.updateDropIndex(evt, tabItem);\r\n        this.updateDropTargetIndicatorPosition();\r\n    }\r\n    updateDropIndex(evt, tabItem) {\r\n        var _a;\r\n        const dropIndex = this.dxTabItems.indexOf(tabItem);\r\n        let near;\r\n        let midPoint;\r\n        const bounding = tabItem.getBoundingClientRect();\r\n        if ((_a = this.dxTabs) === null || _a === void 0 ? void 0 : _a.isVertical) {\r\n            midPoint = bounding.y + (bounding.height / 2);\r\n            near = evt.clientY;\r\n        }\r\n        else {\r\n            midPoint = bounding.x + (bounding.width / 2);\r\n            near = evt.clientX;\r\n        }\r\n        if (near > midPoint)\r\n            this.dropIndex = dropIndex + 1;\r\n        else\r\n            this.dropIndex = dropIndex;\r\n        if (this.dragIndex < this.dropIndex)\r\n            this.dropIndex = this.dropIndex - 1;\r\n    }\r\n    updateDropTargetIndicatorPosition() {\r\n        if (this.dragIndex === this.dropIndex) {\r\n            this.hideDropTargetIndicator();\r\n            return;\r\n        }\r\n        this.showDropTargetIndicator();\r\n        const clientRect = this.dxTabItems[this.dropIndex].getBoundingClientRect();\r\n        let top = clientRect.y;\r\n        let left = clientRect.x;\r\n        if (this.dragIndex < this.dropIndex) {\r\n            if (this.dxTabs.isVertical)\r\n                top += clientRect.height - this.dropTargetIndicator.offsetHeight;\r\n            else\r\n                left += clientRect.width - this.dropTargetIndicator.offsetWidth;\r\n        }\r\n        this.dropTargetIndicator.style.top = `${top}px`;\r\n        this.dropTargetIndicator.style.left = `${left}px`;\r\n        if (this.dxTabs.isVertical)\r\n            this.dropTargetIndicator.style.width = `${clientRect.width}px`;\r\n        else\r\n            this.dropTargetIndicator.style.height = `${clientRect.height}px`;\r\n    }\r\n    updateDraggableElementPosition() {\r\n        super.updateDraggableElementPosition();\r\n        if (!this.draggableContext)\r\n            return;\r\n        const context = this.draggableContext;\r\n        const x = context.draggableElementPosition.x - context.draggableElementOffset.x;\r\n        const y = context.draggableElementPosition.y - context.draggableElementOffset.y;\r\n        context.draggableElementPosition = { x, y };\r\n    }\r\n}\r\n","var DxTabItem_1;\r\nimport { __decorate } from \"tslib\";\r\nimport { customElement, property } from \"lit/decorators.js\";\r\nimport { DxElementPointerEventsHelper } from \"../../common/dx-html-element-pointer-events-helper\";\r\nimport { HandlePointerEventsMode, PointerDragStartEvent, PointerDragCancelEvent, PointerDragStopEvent } from \"../../common/pointer-events\";\r\nimport SingleSlotElementBase from \"../../common/single-slot-element-base\";\r\nimport { DxTagNames } from \"../../dx-tag-names\";\r\nimport { TabDraggingHelper } from \"./tabs-dragging-helper\";\r\nimport * as PointerEvents from \"../../common/pointer-events\";\r\nimport { DxTabReorderEvent } from \"./tabs-events\";\r\nimport { TabsCssClasses } from \"./tabs-css-classes\";\r\nlet DxTabItem = DxTabItem_1 = class DxTabItem extends SingleSlotElementBase {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.boundOnDragStartHandler = this.handleDragStart.bind(this);\r\n        this.boundOnDragStopHandler = this.handleDrop.bind(this);\r\n        this.boundOnDragCancelHandler = this.handleDragEnd.bind(this);\r\n        this.pointerEventsHelper = new DxElementPointerEventsHelper(this);\r\n        this.allowReorder = false;\r\n        this.index = -1;\r\n    }\r\n    handleDragStart(e) {\r\n        DxTabItem_1.draggingHelper.start(this, e.detail.source);\r\n        e.stopPropagation();\r\n    }\r\n    handleDragEnd(e) {\r\n        DxTabItem_1.draggingHelper.stop();\r\n        e.stopPropagation();\r\n    }\r\n    handleDrop(e) {\r\n        if (DxTabItem_1.draggingHelper.isValidTarget(this)) {\r\n            const dragIndex = DxTabItem_1.draggingHelper.getDragIndex();\r\n            const dropIndex = DxTabItem_1.draggingHelper.getDropIndex();\r\n            if (dragIndex !== dropIndex)\r\n                this.dispatchEvent(new DxTabReorderEvent(dragIndex, dropIndex));\r\n        }\r\n        DxTabItem_1.draggingHelper.stop();\r\n        e.stopPropagation();\r\n    }\r\n    isDraggableTab() {\r\n        return this.allowReorder;\r\n    }\r\n    get tabs() {\r\n        return this.closest(DxTagNames.Tabs);\r\n    }\r\n    connectedCallback() {\r\n        super.connectedCallback();\r\n        if (this.isDraggableTab())\r\n            this.addDragEventSubscriptions();\r\n    }\r\n    disconnectedCallback() {\r\n        if (this.isDraggableTab())\r\n            this.removeDragEventSubscriptions();\r\n        super.disconnectedCallback();\r\n    }\r\n    updated(changedProperties) {\r\n        if (changedProperties.has(\"allowReorder\"))\r\n            this.onAllowTabReorderChanged();\r\n        super.updated(changedProperties);\r\n    }\r\n    addDragEventSubscriptions() {\r\n        this.addEventListener(PointerDragStartEvent.eventName, this.boundOnDragStartHandler);\r\n        this.addEventListener(PointerDragCancelEvent.eventName, this.boundOnDragCancelHandler);\r\n        this.addEventListener(PointerDragStopEvent.eventName, this.boundOnDragStopHandler);\r\n        this.pointerEventsHelper.initialize();\r\n    }\r\n    removeDragEventSubscriptions() {\r\n        this.removeEventListener(PointerDragStartEvent.eventName, this.boundOnDragStartHandler);\r\n        this.removeEventListener(PointerDragCancelEvent.eventName, this.boundOnDragCancelHandler);\r\n        this.removeEventListener(PointerDragStopEvent.eventName, this.boundOnDragStopHandler);\r\n        this.pointerEventsHelper.dispose();\r\n    }\r\n    onAllowTabReorderChanged() {\r\n        if (this.isDraggableTab())\r\n            this.addDragEventSubscriptions();\r\n        else\r\n            this.removeDragEventSubscriptions();\r\n    }\r\n    // Pointer events interaction\r\n    get handlePointerEventsMode() {\r\n        return HandlePointerEventsMode.Dragging;\r\n    }\r\n    get handlePointerEventsTarget() {\r\n        return this;\r\n    }\r\n    get handlePointerEventsDelay() {\r\n        return PointerEvents.LongTapInteractionTimeout;\r\n    }\r\n    get hoverTitleElementsSelector() {\r\n        return null;\r\n    }\r\n    get bypassNonInlineHoverTitleElementChildSelector() {\r\n        return null;\r\n    }\r\n    shouldProcessPointerEvent(evt) {\r\n        const target = evt.target;\r\n        if (target.closest(`.${TabsCssClasses.CloseButton}`))\r\n            return false;\r\n        return true;\r\n    }\r\n};\r\nDxTabItem.draggingHelper = new TabDraggingHelper();\r\n__decorate([\r\n    property({ type: Boolean, attribute: \"allow-reorder\" })\r\n], DxTabItem.prototype, \"allowReorder\", void 0);\r\n__decorate([\r\n    property({ type: Number, attribute: \"index\" })\r\n], DxTabItem.prototype, \"index\", void 0);\r\nDxTabItem = DxTabItem_1 = __decorate([\r\n    customElement(DxTagNames.TabItem)\r\n], DxTabItem);\r\nexport { DxTabItem };\r\n"],"names":["PointerEvents.LongTapInteractionTimeout","property","customElement"],"mappings":"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"}