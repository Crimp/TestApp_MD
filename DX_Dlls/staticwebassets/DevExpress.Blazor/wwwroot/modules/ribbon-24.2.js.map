{"version":3,"file":"ribbon-24.2.js","sources":["../../Scripts/ribbon/layout-builder.ts","../../Scripts/ribbon/ribbon.ts"],"sourcesContent":["import { getElementOffsetWidth, getHorizontalBordersWidth, getLeftRightBordersAndPaddingsSummaryValue, getLeftRightMargins, } from \"../dom-utils\";\r\nexport class LayoutEntity {\r\n    constructor(owner) {\r\n        this.container = null;\r\n        this.owner = owner;\r\n    }\r\n    querySelectorAll(selector) {\r\n        var _a;\r\n        return this.querySelectorAllInternal(selector || (\"#\" + ((_a = this.getContainer()) === null || _a === void 0 ? void 0 : _a.id)));\r\n    }\r\n    toggleClassName(el, className, condition) {\r\n        return this.owner ? this.owner.toggleClassName(el, className, condition) : this.toggleClassNameInternal(el, className, condition);\r\n    }\r\n    toggleClassNameInternal(_el, _className, _condition) {\r\n    }\r\n    querySelectorAllInternal(selector) {\r\n        return this.owner ? this.owner.querySelectorAll(selector) : this.getNodes(selector);\r\n    }\r\n    getNodes(selector) {\r\n        const htmlElement = this.container;\r\n        let result = htmlElement.querySelectorAll(selector);\r\n        if (!result.length) {\r\n            selector = \"#\" + htmlElement.id + selector;\r\n            if (htmlElement.parentNode)\r\n                result = htmlElement.parentNode.querySelectorAll(selector);\r\n        }\r\n        return result;\r\n    }\r\n    getContainer() {\r\n        return this.owner ? this.owner.getContainer() : this.container;\r\n    }\r\n    getBoxSize(el) {\r\n        return Math.ceil(getElementOffsetWidth(el)) + this.getBoxOuterOffset(el);\r\n    }\r\n    getBoxInnerOffset(el) {\r\n        return getLeftRightBordersAndPaddingsSummaryValue(el);\r\n    }\r\n    getBoxOuterOffset(el) {\r\n        return getLeftRightMargins(el);\r\n    }\r\n    getBoxOffset(el) {\r\n        return this.getBoxOuterOffset(el) + this.getBoxInnerOffset(el);\r\n    }\r\n    getNodeWidth(node, skipMargins = false) {\r\n        const htmlElement = node;\r\n        if (!htmlElement)\r\n            return 0;\r\n        return Math.ceil(htmlElement.offsetWidth + (skipMargins ? 0 : this.getBoxOuterOffset(htmlElement))) + getHorizontalBordersWidth(htmlElement);\r\n    }\r\n    dispose() {\r\n    }\r\n    setActive(_isActive) {\r\n    }\r\n    // eslint-disable-next-line\r\n    createLayoutEntity(type, ...args) {\r\n        return this.owner !== null ? this.owner.createLayoutEntity(type, ...args) : this.createLayoutEntityCore(type, ...args);\r\n    }\r\n    createLayoutEntityCore(type, ...args) {\r\n        const t = this.resolveLayoutEntityType(type);\r\n        // eslint-disable-next-line new-cap\r\n        return new t(...args);\r\n    }\r\n    // eslint-disable-next-line\r\n    resolveLayoutEntityType(t) {\r\n        return t;\r\n    }\r\n}\r\n","import { __decorate } from \"tslib\";\r\nimport { DomUtils } from \"@devexpress/utils/lib/utils/dom\";\r\nimport { isRemovedFromDOM, RequestAnimationFrame, subscribeElementContentSize, unsubscribeElement } from \"../dom-utils\";\r\nimport { disposeEvents } from \"../disposable\";\r\nimport { Utils } from \"./ribbon-utils\";\r\nimport { initFocusHidingEvents } from \"../focus-utils\";\r\nimport { LayoutEntity } from \"./layout-builder\";\r\nimport { ToolbarCssClasses } from \"../toolbar/toolbar-css-classes\";\r\nimport { CssClasses } from \"../css-classes\";\r\nimport ToolbarModule from \"../toolbar/toolbar\";\r\nimport { customElement, property } from \"lit/decorators.js\";\r\nimport SingleSlotElementBase from \"../common/single-slot-element-base\";\r\nimport { DxKeyboardNavigatorTagName } from \"../common/keyboard-navigation/dx-keyboard-navigator\";\r\nimport { DxToolbarRootKeyboardStrategy } from \"../toolbar/keyboard-navigation/root-keyboard-strategy\";\r\nconst LayoutAnimationDuration = 500;\r\nToolbarModule.fakeInit();\r\nconst btnToolbarSelector = `.${ToolbarCssClasses.ButtonToolbar}`;\r\nconst btnEllipsisSelector = `.${ToolbarCssClasses.ButtonEllipsis}`;\r\nconst ribbonToolbarLoadedAttribute = \"data-dx-ribbon-toolbar-loaded\";\r\nclass OneLineLayoutBlock extends LayoutEntity {\r\n    constructor(owner, group, element) {\r\n        super(owner);\r\n        this.nextBlock = null;\r\n        this.prevBlock = null;\r\n        this.ribbonOwner = owner;\r\n        this.group = group;\r\n        this.element = element;\r\n        this.width = 0;\r\n        this.isActiveValue = null;\r\n        this.index = group.blocks.length;\r\n        this.nextBlock = null;\r\n        this.prevBlock = element.layoutBlockObj || null;\r\n        this._element = element;\r\n        this._element.layoutBlockObj = this._element.layoutBlockObj ? this._element.layoutBlockObj.nextBlock = this : this;\r\n        this._element.onHide = () => {\r\n            this.toggleClassName(this.element, ToolbarCssClasses.ToolbarHiddenItem, true);\r\n        };\r\n        this._element.onShow = () => {\r\n            this.toggleClassName(this.element, ToolbarCssClasses.ToolbarHiddenItem, false);\r\n        };\r\n    }\r\n    dispose() {\r\n        delete this._element.onHide;\r\n        delete this._element.onShow;\r\n        this.ribbonOwner = null;\r\n        super.dispose();\r\n    }\r\n    afterCreate(groupsCollection) {\r\n        delete this._element.layoutBlockObj;\r\n        groupsCollection.maxWidth += this.width;\r\n        groupsCollection.minWidth += this.getMinWidth();\r\n        if (this.width === 0)\r\n            this.raiseVisibilityChange(false);\r\n    }\r\n    setActive(active) {\r\n        if (this.isActiveValue === active)\r\n            return;\r\n        this.isActiveValue = active;\r\n        this.group.activeBlock = active ? this : null;\r\n        this.group.groupsCollection.lastGroup = this.group;\r\n        if (this.group.state.prevState)\r\n            this.toggleClassName(this.group.element.parentNode, this.group.state.prevState.name, this.isActiveValue);\r\n        this.toggleClassName(this.element, this.group.state.name, this.isActiveValue);\r\n        this.toggleClassName(this.group.element, this.group.state.name, this.isActiveValue);\r\n    }\r\n    raiseVisibilityChange(isVisible) {\r\n        var _a, _b;\r\n        const callback = isVisible ? this._element.onShow : this._element.onHide;\r\n        if (callback)\r\n            (_a = this.owner) === null || _a === void 0 ? void 0 : _a.domChanges.push(callback);\r\n        (_b = this.ribbonOwner) === null || _b === void 0 ? void 0 : _b.toggleVisibility(this.element, isVisible);\r\n    }\r\n    getMinWidth() {\r\n        return this.nextBlock ? this.nextBlock.getMinWidth() : this.width;\r\n    }\r\n    getNextBlock(step) {\r\n        let group = this.group;\r\n        let block = group.blocks[this.index - step];\r\n        if (!block && (group = group.groupsCollection.blockGroups[group.totalIndex + step]))\r\n            block = group.blocks[Math.pow(group.blocks.length, step > 0 ? 1 : 0) - 1];\r\n        return block;\r\n    }\r\n}\r\nclass LayoutState extends LayoutEntity {\r\n    constructor(owner, buffer, name, prevState) {\r\n        super(owner);\r\n        this.builders = buffer || [];\r\n        this.name = name;\r\n        this.index = prevState ? prevState.index + 1 : 0;\r\n        this.prevState = prevState;\r\n        this.nextState = null;\r\n        if (prevState)\r\n            prevState.nextState = this;\r\n    }\r\n    for(selectorOrFunc) {\r\n        return this.builders[this.builders.length] = this.createLayoutEntity(OneLineLayoutBreakPointBuilder, this.owner, this.name, selectorOrFunc);\r\n    }\r\n}\r\nclass OneLineLayoutBlockGroup extends LayoutEntity {\r\n    constructor(owner, groupsCollection, element, state, domIndex) {\r\n        super(owner);\r\n        this.groupsCollection = groupsCollection;\r\n        this.state = state;\r\n        this.element = element;\r\n        this.elementOffset = this.getBoxOffset(element) + this.getMarginLeftOffset(element);\r\n        this.blocks = [];\r\n        this.activeBlock = null;\r\n        this.fullWidth = this.elementOffset;\r\n        this.isSmallest = !state.nextState;\r\n        this.isLargest = !state.prevState;\r\n        this.domIndex = domIndex;\r\n        this.totalIndex = this.groupsCollection.blockGroups.length;\r\n        this.createBlocks(state.builders);\r\n        const _element = element;\r\n        if (!!state.prevState && (this.isSmallest || (_element.layoutBlockGroupObj.isSmallest = this.blocks.length === 0)))\r\n            delete _element.layoutBlockGroupObj;\r\n        else\r\n            _element.layoutBlockGroupObj = this;\r\n    }\r\n    dispose() {\r\n        for (let i = 0; i < this.blocks.length; i++)\r\n            this.blocks[i].dispose();\r\n        super.dispose();\r\n    }\r\n    afterCreate(groupsCollection) {\r\n        this.blocks.forEach(function (b) {\r\n            b.afterCreate(groupsCollection);\r\n        });\r\n        groupsCollection.groupsOffset += this.elementOffset;\r\n        groupsCollection.groupBlocksLengthLookup[this.domIndex] = this.blocks.length;\r\n        groupsCollection.lastGroup = this;\r\n    }\r\n    setActive(isActive) {\r\n        let index = 0;\r\n        if (!this.isSmallest && this.isLargest)\r\n            index = this.blocks.length - 1;\r\n        this.blocks[index].setActive(isActive);\r\n    }\r\n    createBlocks(builders) {\r\n        for (let i = 0; i < builders.length; i++) {\r\n            const builder = builders[i];\r\n            const blockElements = builder.findBlockElements(this.element);\r\n            for (let j = 0; j < blockElements.length; j++) {\r\n                const block = this.createLayoutEntity(OneLineLayoutBlock, this.owner, this, blockElements[j]);\r\n                this.fullWidth += block.width = builder.getBlockWidth(block);\r\n                this.blocks.push(block);\r\n            }\r\n        }\r\n        if (this.isLargest)\r\n            this.setActive(true);\r\n    }\r\n    calculateWidth(block) {\r\n        return this !== block.group ? this.fullWidth : this.getActualBlocks(block).reduce(function (r, b) {\r\n            return r + b.width;\r\n        }, this.elementOffset);\r\n    }\r\n    getActualBlocks(block) {\r\n        return this.blocks.map(function (b) {\r\n            return b.prevBlock && b.index < block.index ? b.prevBlock : b;\r\n        }.bind(this));\r\n    }\r\n    getBeforeOffset(node) {\r\n        const beforeStyle = window.getComputedStyle(node, \":before\");\r\n        return DomUtils.pxToInt(beforeStyle.width) + DomUtils.pxToInt(beforeStyle.marginRight);\r\n    }\r\n    getMarginLeftOffset(node) {\r\n        const style = window.getComputedStyle(node);\r\n        return DomUtils.pxToInt(style.marginLeft);\r\n    }\r\n}\r\nclass OneLineLayoutBlockGroupCollection extends LayoutEntity {\r\n    constructor(owner, groupsContainer, selector) {\r\n        super(owner);\r\n        this.ribbonOwner = owner;\r\n        this.groupsContainer = groupsContainer;\r\n        this.testElement = typeof selector === \"function\" ? selector : function (el) {\r\n            return Utils.elementMatchesSelector(el, selector);\r\n        };\r\n        this.blockGroups = [];\r\n        this.states = [];\r\n        this.width = 0;\r\n        this.groupsOffset = 0;\r\n        this.maxWidth = 0;\r\n        this.minWidth = 0;\r\n        this.groupElementsCount = 0;\r\n        this.currentLayoutElements = [];\r\n        this.lastGroup = null;\r\n        this.selector = selector;\r\n        this.groupLookupMap = {};\r\n        this.groupBlocksLengthLookup = {};\r\n    }\r\n    createBlockGroup(groupElement, state, domIndex) {\r\n        let blockGroup = this.createLayoutEntity(OneLineLayoutBlockGroup, this.owner, this, groupElement, state, domIndex);\r\n        if (blockGroup)\r\n            blockGroup = blockGroup.blocks.length > 0 ? this.blockGroups[this.blockGroups.length] = blockGroup : null;\r\n        if (blockGroup)\r\n            (this.groupLookupMap[domIndex] || (this.groupLookupMap[domIndex] = [])).splice(0, 0, blockGroup.totalIndex);\r\n        return blockGroup;\r\n    }\r\n    createBlockGroups() {\r\n        var _a;\r\n        const groupElements = (_a = this.ribbonOwner) === null || _a === void 0 ? void 0 : _a.getGroupElements(this.groupsContainer, this.selector);\r\n        if (!groupElements)\r\n            return;\r\n        this.groupElementsCount = groupElements.length;\r\n        for (let i = 0; i < this.states.length; i++) {\r\n            for (let j = this.groupElementsCount - 1; j >= 0; j--) {\r\n                const el = groupElements[j];\r\n                if (el && (!this.testElement(el) || !this.createBlockGroup(el, this.states[i], j)))\r\n                    groupElements[j] = null;\r\n            }\r\n        }\r\n        this.states = [];\r\n        for (let i = 0; i < this.blockGroups.length; i++) {\r\n            if (!this.blockGroups[i].isLargest)\r\n                break;\r\n            this.blockGroups[i].afterCreate(this);\r\n        }\r\n        this.minWidth += this.groupsOffset;\r\n        this.maxWidth += this.groupsOffset;\r\n        this.width = this.maxWidth;\r\n        this.currentLayoutElements = this.findActiveBlocks();\r\n    }\r\n    defineState(stateName, initializeStateFunc) {\r\n        const layoutState = this.createLayoutEntity(LayoutState, this.owner, [], stateName, this.states[this.states.length - 1] || null);\r\n        this.states.push(layoutState);\r\n        initializeStateFunc(layoutState);\r\n    }\r\n    initialize() {\r\n    }\r\n    applyLayout(layoutElements) {\r\n        if (this.currentLayoutElements) {\r\n            this.currentLayoutElements.forEach(function (le) {\r\n                le.setActive(false);\r\n            });\r\n        }\r\n        this.currentLayoutElements = layoutElements;\r\n        this.currentLayoutElements.forEach(function (le) {\r\n            le.setActive(true);\r\n        });\r\n        this.detectBlockItemVisibilityChanges();\r\n    }\r\n    adjust(width) {\r\n        if (width === this.width || width <= this.minWidth && this.width === this.minWidth || width >= this.maxWidth && this.width === this.maxWidth)\r\n            return;\r\n        const oldWidth = this.width;\r\n        this.width = Math.max(this.minWidth, Math.min(this.maxWidth, width));\r\n        if (this.width === this.maxWidth) {\r\n            return this.applyLayout(this.blockGroups.filter(function (g) {\r\n                return g.isLargest;\r\n            }));\r\n        }\r\n        else if (this.width === this.minWidth) {\r\n            return this.applyLayout(this.blockGroups.filter(function (g) {\r\n                return g.isSmallest;\r\n            }));\r\n        }\r\n        const delta = oldWidth - this.width;\r\n        const sign = delta / Math.abs(delta);\r\n        const activeBlocks = this.findActiveBlocks();\r\n        let block = activeBlocks ? activeBlocks[0] : null;\r\n        let prevBlock = block;\r\n        const currentBlock = block;\r\n        while (block) {\r\n            width = this.calculateWidth(block);\r\n            if (sign > 0 && width <= this.width || sign < 0 && width >= this.width) {\r\n                const blockToApply = sign < 0 ? prevBlock : block;\r\n                if (blockToApply !== currentBlock && blockToApply !== null)\r\n                    this.applyLayout([blockToApply]);\r\n                break;\r\n            }\r\n            prevBlock = block;\r\n            block = block.getNextBlock(sign);\r\n        }\r\n    }\r\n    detectBlockItemVisibilityChanges() {\r\n        const actualGroups = this.findActualBlockGroups();\r\n        for (let i = 0; i < actualGroups.length; i++) {\r\n            const group = actualGroups[i];\r\n            let afterActiveBlock = false;\r\n            for (let j = 0; j < group.blocks.length; j++) {\r\n                let block = group.blocks[j];\r\n                if (group === this.lastGroup && !(afterActiveBlock = (afterActiveBlock || block.isActiveValue)))\r\n                    block = block.prevBlock || block;\r\n                block.raiseVisibilityChange(block.width > 0);\r\n            }\r\n        }\r\n    }\r\n    calculateWidth(block) {\r\n        if (!block) {\r\n            const activeBlocks = this.findActiveBlocks();\r\n            if (activeBlocks)\r\n                block = activeBlocks[0];\r\n        }\r\n        const groups = this.findActualBlockGroups(block.group);\r\n        return groups.reduce(function (w, g) {\r\n            return w + g.calculateWidth(block);\r\n        }, 0);\r\n    }\r\n    findActualBlockGroups(activeGroup = null) {\r\n        activeGroup = activeGroup || this.lastGroup;\r\n        const groups = [];\r\n        if (!activeGroup)\r\n            return groups;\r\n        for (let i = 0; i < this.groupElementsCount; i++) {\r\n            const groupIndices = this.groupLookupMap[i];\r\n            for (let j = 0; j < groupIndices.length; j++) {\r\n                const group = this.blockGroups[groupIndices[j]];\r\n                if (i < activeGroup.domIndex ? group.state.index < activeGroup.state.index : group.state.index <= activeGroup.state.index) {\r\n                    groups.push(group);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return groups;\r\n    }\r\n    findActiveBlocks() {\r\n        return this.lastGroup ? this.lastGroup.blocks.filter(function (b) {\r\n            return b.isActiveValue;\r\n        }) : null;\r\n    }\r\n    dispose() {\r\n        for (let i = 0; i < this.blockGroups.length; i++)\r\n            this.blockGroups[i].dispose();\r\n        this.blockGroups = [];\r\n        super.dispose();\r\n    }\r\n}\r\nclass OneLineLayoutBreakPointBuilder extends LayoutEntity {\r\n    constructor(owner, name, selectorOrFunc) {\r\n        super(owner);\r\n        this.name = name;\r\n        this.selectorOrFunc = selectorOrFunc;\r\n        this.prepareBlockFunc = null;\r\n    }\r\n    getBlockWidth(block) {\r\n        return this.prepareBlockFunc ? this.prepareBlockFunc(block) : 0;\r\n    }\r\n    findBlockElements(container) {\r\n        const elements = Utils.getChildElementNodesByPredicate(container, (n) => {\r\n            return Utils.elementMatchesSelector(n, this.selectorOrFunc);\r\n        });\r\n        return elements !== null && elements !== void 0 ? elements : [];\r\n    }\r\n    setPrepareFunc(func) {\r\n        this.prepareBlockFunc = func;\r\n        return this;\r\n    }\r\n    setWidth() {\r\n        return this.setPrepareFunc((block) => {\r\n            return this.getBoxSize(block.element);\r\n        });\r\n    }\r\n    setHidden() {\r\n        return this.setPrepareFunc(function (_block) {\r\n            return 0;\r\n        });\r\n    }\r\n    setOnlyImageWidth() {\r\n        return this.setPrepareFunc((block) => {\r\n            let width = this.getBoxSize(block.element);\r\n            let imageElement = Utils.getChildByClassName(block.element, `${CssClasses.Image}:not(.${ToolbarCssClasses.AdaptivePreviewImage})`);\r\n            if (!imageElement)\r\n                imageElement = Utils.getChildByClassName(Utils.getChildByClassName(block.element, ToolbarCssClasses.DropDownToggle), `${CssClasses.Image}:not(.${ToolbarCssClasses.AdaptivePreviewImage})`);\r\n            let previewImageElement = Utils.getChildByClassName(block.element, ToolbarCssClasses.AdaptivePreviewImage);\r\n            if (!previewImageElement)\r\n                previewImageElement = Utils.getChildByClassName(Utils.getChildByClassName(block.element, ToolbarCssClasses.DropDownToggle), ToolbarCssClasses.AdaptivePreviewImage);\r\n            if (imageElement) {\r\n                width = this.getBoxSize(imageElement) - this.getBoxOuterOffset(imageElement);\r\n                if (previewImageElement) {\r\n                    const previewImageWidth = this.getBoxSize(previewImageElement) - this.getBoxOuterOffset(previewImageElement);\r\n                    width = Math.max(width, previewImageWidth);\r\n                }\r\n                let offset = this.getBoxOffset(block.element);\r\n                let parent = imageElement.parentNode;\r\n                while (parent !== block.element) {\r\n                    offset += this.getBoxOffset(parent);\r\n                    parent = parent.parentNode;\r\n                }\r\n                return width + offset;\r\n            }\r\n            return width;\r\n        });\r\n    }\r\n    setNoTextWidth() {\r\n        return this.setPrepareFunc((block) => {\r\n            let width = this.getBoxSize(block.element);\r\n            if (Utils.getChildByClassName(block.element, ToolbarCssClasses.ToolbarEdit))\r\n                return width;\r\n            const innerElement = Utils.getChildByClassName(block.element, ToolbarCssClasses.ToolbarItem);\r\n            if (Utils.getChildByClassName(innerElement, ToolbarCssClasses.ToolbarEdit))\r\n                return width;\r\n            const imageElement = this.findImageElement(block.element);\r\n            if (imageElement) {\r\n                const textElement = imageElement.nextElementSibling;\r\n                if (textElement) {\r\n                    width -= this.getBoxSize(textElement);\r\n                    width -= this.getBoxOuterOffset(imageElement);\r\n                }\r\n            }\r\n            return width;\r\n        });\r\n    }\r\n    findImageElement(element) {\r\n        var _a;\r\n        let imageElement = Utils.getChildByClassName(element, CssClasses.Image);\r\n        if (!imageElement)\r\n            imageElement = Utils.getChildByClassName(Utils.getChildByClassName(element, CssClasses.Button), CssClasses.Image);\r\n        if (!imageElement && ((_a = element === null || element === void 0 ? void 0 : element.classList) === null || _a === void 0 ? void 0 : _a.contains(ToolbarCssClasses.ToolbarItem))) {\r\n            const innerElement = Utils.getChildByClassName(element, ToolbarCssClasses.ToolbarItem);\r\n            return this.findImageElement(innerElement);\r\n        }\r\n        return imageElement;\r\n    }\r\n}\r\nclass OneLineLayoutBreakpointsBuilder extends LayoutEntity {\r\n    constructor(control) {\r\n        super(null);\r\n        this.clientStateMap = new Map();\r\n        this.dotNetReference = control.dotNetReference;\r\n        this.container = control.getMainElement();\r\n        this.containerOffsets = this.calculateContainerOffsets();\r\n        this.blockGroupsArray = [];\r\n        this.isReady = false;\r\n        this.classesToApply = [];\r\n        this.domChanges = [];\r\n        this.nextAdjustGroupWidth = null;\r\n    }\r\n    getClientState(el) {\r\n        const isAdaptive = el.getAttribute(\"dxbl-toolbar-adaptive-item\");\r\n        if (isAdaptive === null)\r\n            return null;\r\n        const id = el.id;\r\n        if (!id)\r\n            return null;\r\n        let state = this.clientStateMap.get(id);\r\n        if (!state) {\r\n            state = { id: id };\r\n            this.clientStateMap.set(id, state);\r\n        }\r\n        return state;\r\n    }\r\n    toggleClassNameInternal(el, className, condition) {\r\n        this.getBatchCssUpdateCache(el)[className] = condition;\r\n        const state = this.getClientState(el);\r\n        if (state)\r\n            state[className] = condition;\r\n    }\r\n    getBatchCssUpdateCache(el) {\r\n        let cache = el._layoutBuilderCache;\r\n        if (!cache) {\r\n            cache = el._layoutBuilderCache = {};\r\n            this.classesToApply.push(this.createBatchCssUpdateDelegate(el));\r\n        }\r\n        return cache;\r\n    }\r\n    createBatchCssUpdateDelegate(el) {\r\n        return function () {\r\n            const cache = el._layoutBuilderCache;\r\n            if (!cache)\r\n                return;\r\n            delete el._layoutBuilderCache;\r\n            for (const k in cache) {\r\n                if (Object.prototype.hasOwnProperty.call(cache, k))\r\n                    DomUtils.toggleClassName(el, k, cache[k]);\r\n            }\r\n        };\r\n    }\r\n    createBlockGroupsCore(selectorOrFunc, groupSelectorOrFunc, prepareFunc) {\r\n        const result = [];\r\n        const containers = this.querySelectorAll(selectorOrFunc);\r\n        for (let i = 0; i < containers.length; i++) {\r\n            const container = containers[i];\r\n            const blockGroupCollection = this.createLayoutEntity(OneLineLayoutBlockGroupCollection, this, container, groupSelectorOrFunc);\r\n            this.blockGroupsArray.push(blockGroupCollection);\r\n            if (prepareFunc)\r\n                prepareFunc(blockGroupCollection);\r\n            blockGroupCollection.createBlockGroups();\r\n            result.push(blockGroupCollection);\r\n        }\r\n        this.nextAdjustGroupWidth = this.getGroupsWidth();\r\n        return result;\r\n    }\r\n    initialize() {\r\n        for (let i = 0; i < this.blockGroupsArray.length; i++)\r\n            this.blockGroupsArray[i].initialize();\r\n        this.isReady = true;\r\n        this.adjust();\r\n    }\r\n    adjust(beforeUpdate = null) {\r\n        if (this.isReady) {\r\n            const prevCssChanges = this.classesToApply;\r\n            const prevDomChanges = this.domChanges;\r\n            let cssChanges = this.classesToApply = [];\r\n            let domChanges = this.domChanges = [];\r\n            const prevState = this.clientStateMap;\r\n            let w;\r\n            if (this.nextAdjustGroupWidth !== null) {\r\n                w = this.nextAdjustGroupWidth;\r\n                this.nextAdjustGroupWidth = null;\r\n            }\r\n            else\r\n                w = this.getGroupsWidth();\r\n            for (let i = 0; i < this.blockGroupsArray.length; i++)\r\n                this.blockGroupsArray[i].adjust(w);\r\n            if (beforeUpdate)\r\n                beforeUpdate();\r\n            cssChanges = prevCssChanges.concat(cssChanges);\r\n            domChanges = prevDomChanges.concat(domChanges);\r\n            const stateMap = Array.from(prevState.values()).concat(Array.from(this.clientStateMap.values()));\r\n            this.queueUpdates(() => {\r\n                while (cssChanges.length) {\r\n                    const t = cssChanges.shift();\r\n                    if (t)\r\n                        t();\r\n                }\r\n                this.queueUpdates(() => {\r\n                    while (domChanges.length) {\r\n                        const t = domChanges.shift();\r\n                        if (t)\r\n                            t();\r\n                    }\r\n                    if (stateMap.length) {\r\n                        this.dotNetReference.invokeMethodAsync(\"OnModelUpdated\", stateMap)\r\n                            .catch((e) => {\r\n                            if (!isRemovedFromDOM(this.container))\r\n                                console.error(e);\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    }\r\n    toggleVisibility(element, isVisible) {\r\n        const state = this.getClientState(element);\r\n        if (state)\r\n            state.isVisible = isVisible;\r\n    }\r\n    queueUpdates(callback) {\r\n        // eslint-disable-next-line new-cap\r\n        RequestAnimationFrame(callback);\r\n    }\r\n    getGroupsWidth() {\r\n        const container = this.getContainer();\r\n        if (!container)\r\n            return 0;\r\n        return container.offsetWidth - this.containerOffsets;\r\n    }\r\n    dispose() {\r\n        this.containerOffsets = this.calculateContainerOffsets();\r\n        for (let i = 0; i < this.blockGroupsArray.length; i++)\r\n            this.blockGroupsArray[i].dispose();\r\n        this.blockGroupsArray = [];\r\n        this.classesToApply = [];\r\n        this.isReady = false;\r\n        super.dispose();\r\n    }\r\n    getGroupElements(groupsContainer, selector) {\r\n        return Utils.getChildElementNodesByPredicate(groupsContainer, function (el) {\r\n            return Utils.elementMatchesSelector(el, selector);\r\n        });\r\n    }\r\n    createBlockGroups() {\r\n        this.createBlockGroupsCore(`.${ToolbarCssClasses.Toolbar} > ${btnToolbarSelector}`, `.${ToolbarCssClasses.ToolbarGroup}`, function (blockGroups) {\r\n            blockGroups.defineState(ToolbarCssClasses.AdaptiveItem, function (state) {\r\n                state.for(`:not(${btnEllipsisSelector})`).setWidth();\r\n                state.for(btnEllipsisSelector).setHidden();\r\n            });\r\n            blockGroups.defineState(ToolbarCssClasses.AdaptiveItemTextHidden, function (state) {\r\n                state.for(`:not(${btnEllipsisSelector})`).setNoTextWidth();\r\n                state.for(btnEllipsisSelector).setHidden();\r\n            });\r\n            blockGroups.defineState(ToolbarCssClasses.AdaptiveItemHidden, function (state) {\r\n                state.for(`:only-child:not(${btnEllipsisSelector})`).setWidth();\r\n                state.for(`:not(:only-child):not(${btnEllipsisSelector})`).setHidden();\r\n                state.for(btnEllipsisSelector).setWidth();\r\n            });\r\n            blockGroups.defineState(ToolbarCssClasses.AdaptiveItemAllHidden, function (state) {\r\n                state.for(`:only-child:not(${btnEllipsisSelector})`).setNoTextWidth();\r\n                state.for(`:not(:only-child):not(${btnEllipsisSelector})`).setHidden();\r\n                state.for(btnEllipsisSelector).setNoTextWidth();\r\n            });\r\n        });\r\n    }\r\n    calculateContainerOffsets() {\r\n        var _a;\r\n        if (!this.container)\r\n            return 0;\r\n        let result = this.getBoxInnerOffset(this.container);\r\n        let offsetEl = (_a = this.container.querySelector(\".dxbl-toolbar\")) !== null && _a !== void 0 ? _a : this.container;\r\n        while (offsetEl !== this.container) {\r\n            if (!offsetEl)\r\n                break;\r\n            result += this.getBoxOffset(offsetEl);\r\n            offsetEl = offsetEl.parentNode;\r\n        }\r\n        return result;\r\n    }\r\n}\r\nclass OneLineRibbon {\r\n    constructor(mainElement, dotNetRef) {\r\n        this.currentWidth = null;\r\n        this.currentHeight = null;\r\n        this.elementContentWidthSubscription = null;\r\n        this.mainElement = mainElement;\r\n        this.layoutBreakPoints = null;\r\n        this.dotNetReference = dotNetRef;\r\n    }\r\n    getMainElement() {\r\n        return this.mainElement;\r\n    }\r\n    initialize() {\r\n        // eslint-disable-next-line new-cap\r\n        RequestAnimationFrame((() => {\r\n            this.buildLayout();\r\n        }));\r\n        // eslint-disable-next-line new-cap\r\n        RequestAnimationFrame(() => {\r\n            this.adjustLayout();\r\n        });\r\n        this.elementContentWidthSubscription = subscribeElementContentSize(this.getMainElement(), (size) => {\r\n            if (this.currentWidth !== size.width || this.currentHeight !== size.height) {\r\n                this.currentWidth = size.width;\r\n                this.currentHeight = size.height;\r\n                this.onBrowserWindowResize();\r\n            }\r\n        });\r\n    }\r\n    applyLayoutStateAppearance() {\r\n        var _a;\r\n        DomUtils.addClassName(this.getMainElement(), ToolbarCssClasses.Loaded);\r\n        (_a = this.layoutBreakPoints) === null || _a === void 0 ? void 0 : _a.initialize();\r\n        setTimeout(() => {\r\n            DomUtils.removeClassName(this.getMainElement(), ToolbarCssClasses.Loading);\r\n        }, LayoutAnimationDuration);\r\n    }\r\n    onBrowserWindowResize() {\r\n        if (this.layoutBreakPoints)\r\n            this.layoutBreakPoints.adjust();\r\n    }\r\n    update() {\r\n        if (this.layoutBreakPoints)\r\n            this.layoutBreakPoints.adjust();\r\n    }\r\n    dispose() {\r\n        if (this.elementContentWidthSubscription)\r\n            unsubscribeElement(this.elementContentWidthSubscription);\r\n        if (this.layoutBreakPoints)\r\n            this.layoutBreakPoints.dispose();\r\n    }\r\n    buildLayout() {\r\n        this.layoutBreakPoints = this.layoutBreakPoints || new OneLineLayoutBreakpointsBuilder(this);\r\n        this.layoutBreakPoints.createBlockGroups();\r\n    }\r\n    adjustLayout() {\r\n        var _a;\r\n        this.applyLayoutStateAppearance();\r\n        (_a = this.layoutBreakPoints) === null || _a === void 0 ? void 0 : _a.adjust();\r\n    }\r\n}\r\nlet RibbonInternalComponent = class RibbonInternalComponent extends SingleSlotElementBase {\r\n    constructor() {\r\n        super();\r\n        this._keyboardNavigator = null;\r\n        this.loading = false;\r\n    }\r\n    willUpdate(changedProperties) {\r\n        if (changedProperties.has(\"loading\") && !this.loading)\r\n            this.initializeNavigator();\r\n    }\r\n    initializeNavigator() {\r\n        if (!this._keyboardNavigator)\r\n            this._keyboardNavigator = this.querySelector(`:scope > ${DxKeyboardNavigatorTagName}`);\r\n        if (!this._keyboardNavigator.initialized)\r\n            this._keyboardNavigator.initialize(this, new DxToolbarRootKeyboardStrategy(this._keyboardNavigator, this));\r\n    }\r\n};\r\n__decorate([\r\n    property({ type: Boolean, attribute: \"loading\" })\r\n], RibbonInternalComponent.prototype, \"loading\", void 0);\r\nRibbonInternalComponent = __decorate([\r\n    customElement(\"dxbl-ribbon-internal\")\r\n], RibbonInternalComponent);\r\nconst ribbonMap = new Map();\r\nexport function init(mainElement, options, dotNetRef) {\r\n    if (!mainElement)\r\n        return Promise.reject(\"failed\");\r\n    let ribbon = ribbonMap.get(mainElement);\r\n    if (ribbon)\r\n        ribbon.update();\r\n    else {\r\n        ribbon = new OneLineRibbon(mainElement, dotNetRef);\r\n        ribbon.initialize();\r\n        ribbonMap.set(mainElement, ribbon);\r\n    }\r\n    const elementToFocus = (mainElement.querySelector(btnToolbarSelector) || mainElement);\r\n    initFocusHidingEvents(elementToFocus);\r\n    // eslint-disable-next-line new-cap\r\n    RequestAnimationFrame(() => {\r\n        mainElement.setAttribute(ribbonToolbarLoadedAttribute, \"\");\r\n    });\r\n    return Promise.resolve(\"ok\");\r\n}\r\nexport function dispose(mainElement) {\r\n    disposeCore(mainElement, ribbonMap);\r\n    Array.from(ribbonMap.keys()).forEach(x => {\r\n        if (isRemovedFromDOM(x))\r\n            disposeCore(x, ribbonMap);\r\n    });\r\n    return Promise.resolve(\"ok\");\r\n    function disposeCore(key, map) {\r\n        if (!key)\r\n            return;\r\n        const elementToFocus = (key.querySelector(btnToolbarSelector));\r\n        if (elementToFocus)\r\n            disposeEvents(elementToFocus);\r\n        const value = map.get(key);\r\n        value === null || value === void 0 ? void 0 : value.dispose();\r\n        map.delete(key);\r\n    }\r\n}\r\nexport default { init, dispose };\r\n"],"names":["DomUtils","property","customElement"],"mappings":"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"}