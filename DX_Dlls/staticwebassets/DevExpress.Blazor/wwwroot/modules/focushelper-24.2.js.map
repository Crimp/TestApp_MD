{"version":3,"file":"focushelper-24.2.js","sources":["../../Scripts/utils/dispatcheraction.ts","../../Scripts/utils/focushelper.ts"],"sourcesContent":["export default class DispatcherAction {\r\n    constructor() {\r\n        this.action = null;\r\n        this.handle = null;\r\n    }\r\n    execute(action) {\r\n        this.cancel();\r\n        this.action = action;\r\n        this.handle = setTimeout(() => {\r\n            var _a;\r\n            (_a = this.action) === null || _a === void 0 ? void 0 : _a.call(this);\r\n            this.handle = null;\r\n            this.action = null;\r\n        }, 0);\r\n    }\r\n    cancel() {\r\n        if (this.handle) {\r\n            clearTimeout(this.handle);\r\n            this.action = null;\r\n            this.handle = null;\r\n        }\r\n    }\r\n}\r\n","import DispatcherAction from \"../utils/dispatcheraction\";\r\nimport { LogicalTreeHelper } from \"./logicaltreehelper\";\r\nimport LayoutHelper from \"../utils/layouthelper\";\r\nexport default class FocusHelper {\r\n    static isFocused(el) {\r\n        return el === document.activeElement;\r\n    }\r\n    static isFocusWithin(el, logicalTree = false) {\r\n        if (logicalTree)\r\n            return LogicalTreeHelper.containsElement(el, document.activeElement);\r\n        return LayoutHelper.containsElement(el, document.activeElement);\r\n    }\r\n    static restoreFocus(el) {\r\n        el.focus({ preventScroll: false });\r\n    }\r\n    static cancelRestoreFocus() {\r\n        this.restoreFocusAction.cancel();\r\n    }\r\n    static unfocus() {\r\n        FocusHelper.cancelRestoreFocus();\r\n        const element = document.activeElement;\r\n        if (element)\r\n            element.blur();\r\n    }\r\n}\r\nFocusHelper.restoreFocusAction = new DispatcherAction();\r\n"],"names":[],"mappings":";;;AAAe,MAAM,gBAAgB,CAAC;AACtC,IAAI,WAAW,GAAG;AAClB,QAAQ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;AAC3B,QAAQ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;AAC3B,KAAK;AACL,IAAI,OAAO,CAAC,MAAM,EAAE;AACpB,QAAQ,IAAI,CAAC,MAAM,EAAE,CAAC;AACtB,QAAQ,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AAC7B,QAAQ,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC,MAAM;AACvC,YAAY,IAAI,EAAE,CAAC;AACnB,YAAY,CAAC,EAAE,GAAG,IAAI,CAAC,MAAM,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAClF,YAAY,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;AAC/B,YAAY,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;AAC/B,SAAS,EAAE,CAAC,CAAC,CAAC;AACd,KAAK;AACL,IAAI,MAAM,GAAG;AACb,QAAQ,IAAI,IAAI,CAAC,MAAM,EAAE;AACzB,YAAY,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACtC,YAAY,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;AAC/B,YAAY,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;AAC/B,SAAS;AACT,KAAK;AACL;;ACnBe,MAAM,WAAW,CAAC;AACjC,IAAI,OAAO,SAAS,CAAC,EAAE,EAAE;AACzB,QAAQ,OAAO,EAAE,KAAK,QAAQ,CAAC,aAAa,CAAC;AAC7C,KAAK;AACL,IAAI,OAAO,aAAa,CAAC,EAAE,EAAE,WAAW,GAAG,KAAK,EAAE;AAClD,QAAQ,IAAI,WAAW;AACvB,YAAY,OAAO,iBAAiB,CAAC,eAAe,CAAC,EAAE,EAAE,QAAQ,CAAC,aAAa,CAAC,CAAC;AACjF,QAAQ,OAAO,YAAY,CAAC,eAAe,CAAC,EAAE,EAAE,QAAQ,CAAC,aAAa,CAAC,CAAC;AACxE,KAAK;AACL,IAAI,OAAO,YAAY,CAAC,EAAE,EAAE;AAC5B,QAAQ,EAAE,CAAC,KAAK,CAAC,EAAE,aAAa,EAAE,KAAK,EAAE,CAAC,CAAC;AAC3C,KAAK;AACL,IAAI,OAAO,kBAAkB,GAAG;AAChC,QAAQ,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,CAAC;AACzC,KAAK;AACL,IAAI,OAAO,OAAO,GAAG;AACrB,QAAQ,WAAW,CAAC,kBAAkB,EAAE,CAAC;AACzC,QAAQ,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC;AAC/C,QAAQ,IAAI,OAAO;AACnB,YAAY,OAAO,CAAC,IAAI,EAAE,CAAC;AAC3B,KAAK;AACL,CAAC;AACD,WAAW,CAAC,kBAAkB,GAAG,IAAI,gBAAgB,EAAE;;;;"}