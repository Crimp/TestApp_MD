{"version":3,"file":"modal-keyboard-strategy-24.2.js","sources":["../../Scripts/toolbar/keyboard-navigation/dropdown-keyboard-strategy.ts","../../Scripts/toolbar/keyboard-navigation/modal-keyboard-strategy.ts"],"sourcesContent":["import { DxMenuDropDownRootMenuKeyboardStrategy } from \"../../menu/keyboard-navigation/dropdown-menu-keyboard-strategy\";\r\nimport { hasClass } from \"../../menu/keyboard-navigation/utils\";\r\nimport { ButtonCssClasses } from \"../../button/constants\";\r\nconst ToolbarMenuItemSelectors = [\r\n    \".dxbl-btn:not([disabled]):not(.dxbl-toolbar-hidden-item)\",\r\n    \".dxbl-btn-split:not(.dxbl-toolbar-hidden-item):has(.dxbl-btn:not([disabled]))\"\r\n];\r\nconst ToolbarMenuItemSelector = [\r\n    ...ToolbarMenuItemSelectors.map(selector => `.dxbl-toolbar-dropdown-item > .dxbl-toolbar-menu-item > ${selector}`),\r\n    \".dxbl-toolbar-dropdown-item.dxbl-toolbar-item-tmpl:not(.dxbl-toolbar-edit)\",\r\n    \".dxbl-toolbar-dropdown-item.dxbl-toolbar-item-tmpl.dxbl-toolbar-edit:has(.dxbl-text-edit:not(.dxbl-disabled))\"\r\n].join(\",\");\r\nconst DropDownItemSelector = \".dxbl-dropdown-item.dxbl-btn\";\r\nexport class DxToolbarDropDownRootMenuKeyboardStrategy extends DxMenuDropDownRootMenuKeyboardStrategy {\r\n    constructor(navigator, targetElement, parentStrategy, menuItemSelector = ToolbarMenuItemSelector) {\r\n        super(navigator, targetElement, menuItemSelector, parentStrategy);\r\n    }\r\n    switchToNestedContent() {\r\n        if (this.isSplitButtonMenuItem(this.selectedItemElement))\r\n            return false;\r\n        return super.switchToNestedContent();\r\n    }\r\n    doAction(evt) {\r\n        if (this.isSplitButtonMenuItem(this.selectedItemElement)) {\r\n            const dropdownItem = this.selectedItemElement.querySelector(DropDownItemSelector);\r\n            if (dropdownItem) {\r\n                this.doClick(dropdownItem, evt);\r\n                return;\r\n            }\r\n        }\r\n        super.doAction(evt);\r\n    }\r\n    isSplitButtonMenuItem(menuItem) {\r\n        return hasClass(menuItem, ButtonCssClasses.SplitButton);\r\n    }\r\n}\r\n","import { KeyCode, KeyUtils } from \"@devexpress/utils/lib/utils/key\";\r\nimport { MenuItem } from \"../../common/keyboard-navigation/dropdown/dropdown-keyboard-strategy\";\r\nimport { KeyboardNavigationStrategy } from \"../../common/keyboard-navigation/keyboard-navigation-strategy\";\r\nimport { hasClass, hasPopup, MenuLevelController, Semaphore } from \"../../menu/keyboard-navigation/utils\";\r\nimport { ModalDialogKeyboardStrategy } from \"../../popup/keyboard-navigation\";\r\nimport { Signal } from \"../../simpleevent\";\r\nimport DispatcherAction from \"../../utils/dispatcheraction\";\r\nimport FocusHelper from \"../../utils/focushelper\";\r\nimport { DxToolbarDropDownRootMenuKeyboardStrategy } from \"./dropdown-keyboard-strategy\";\r\nvar WindowSection;\r\n(function (WindowSection) {\r\n    WindowSection[WindowSection[\"Header\"] = 0] = \"Header\";\r\n    WindowSection[WindowSection[\"Body\"] = 1] = \"Body\";\r\n})(WindowSection || (WindowSection = {}));\r\nvar WindowStatus;\r\n(function (WindowStatus) {\r\n    WindowStatus[WindowStatus[\"Shown\"] = 0] = \"Shown\";\r\n    WindowStatus[WindowStatus[\"Closed\"] = 1] = \"Closed\";\r\n})(WindowStatus || (WindowStatus = {}));\r\nexport class DxToolbarModalRootKeyboardStrategy extends ModalDialogKeyboardStrategy {\r\n    constructor(navigator, targetElement, parentStrategy, menuItemSelector) {\r\n        super(navigator, targetElement);\r\n        this._dispatcherAction = new DispatcherAction();\r\n        this._activeSection = null;\r\n        this._initialized = null;\r\n        this._focusSemaphore = new Semaphore();\r\n        this._parentStrategy = parentStrategy;\r\n        this._sectionElementMap = {\r\n            [WindowSection.Header]: null,\r\n            [WindowSection.Body]: null,\r\n        };\r\n        this._modalStatusSignal = new Signal();\r\n        this._menuItemSelector = menuItemSelector;\r\n    }\r\n    get headerElement() {\r\n        return this._sectionElementMap[WindowSection.Header];\r\n    }\r\n    set headerElement(element) {\r\n        this._sectionElementMap[WindowSection.Header] = element;\r\n    }\r\n    get bodyElement() {\r\n        return this._sectionElementMap[WindowSection.Body];\r\n    }\r\n    set bodyElement(element) {\r\n        this._sectionElementMap[WindowSection.Body] = element;\r\n    }\r\n    initialize() {\r\n        this._initialized = this.initializeCore();\r\n    }\r\n    initializeCore() {\r\n        super.initialize();\r\n        if (!this.headerElement || !this.bodyElement)\r\n            return this.shcheduleInitialization();\r\n        return Promise.resolve();\r\n    }\r\n    shcheduleInitialization() {\r\n        this._dispatcherAction.cancel();\r\n        return new Promise(resolve => {\r\n            this._dispatcherAction.execute(() => {\r\n                super.initialize();\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n    queryItems() {\r\n        this.headerElement = this.targetElement.querySelector(\".dxbl-modal-header\");\r\n        this.bodyElement = this.targetElement.querySelector(\".dxbl-modal-body\");\r\n        return [this.headerElement, this.bodyElement];\r\n    }\r\n    async activate() {\r\n        var _a;\r\n        await this._initialized;\r\n        FocusHelper.cancelRestoreFocus();\r\n        const activeSection = (_a = this._activeSection) !== null && _a !== void 0 ? _a : WindowSection.Body;\r\n        this.setActiveSection(activeSection);\r\n    }\r\n    createItemStrategy(itemElement) {\r\n        if (itemElement === this.headerElement)\r\n            return new DxToolbarModalHeaderKeyboardStrategy(this.navigator, this.headerElement);\r\n        if (itemElement === this.bodyElement)\r\n            return new DxToolbarModalBodyKeyboardStrategy(this.navigator, this.bodyElement, this._parentStrategy, this._focusSemaphore, this._modalStatusSignal, this._menuItemSelector);\r\n        return null;\r\n    }\r\n    handleKeyDown(evt) {\r\n        const keyCode = KeyUtils.getEventKeyCode(evt);\r\n        if (keyCode === KeyCode.Tab) {\r\n            this.setActiveSection(this.toggleActiveSection());\r\n            return true;\r\n        }\r\n        return super.handleKeyDown(evt);\r\n    }\r\n    toggleActiveSection() {\r\n        return this._activeSection === WindowSection.Body ? WindowSection.Header : WindowSection.Body;\r\n    }\r\n    setActiveSection(section) {\r\n        const activeSection = section !== null && section !== void 0 ? section : WindowSection.Body;\r\n        const targetElement = this._sectionElementMap[activeSection];\r\n        const strategy = this.navigator.getStrategy(targetElement);\r\n        this._focusSemaphore.doAllowedAction(() => {\r\n            strategy === null || strategy === void 0 ? void 0 : strategy.activate();\r\n        });\r\n        this._activeSection = activeSection;\r\n    }\r\n    onPopupShown() {\r\n        super.onPopupShown();\r\n        this._modalStatusSignal.raise(this.targetElement, WindowStatus.Shown);\r\n    }\r\n    onPopupClosed() {\r\n        super.onPopupClosed();\r\n        this._modalStatusSignal.raise(this.targetElement, WindowStatus.Closed);\r\n    }\r\n}\r\nexport class DxToolbarModalHeaderKeyboardStrategy extends KeyboardNavigationStrategy {\r\n    initialize() {\r\n        super.initialize();\r\n        this.selectedItemIndex = 0;\r\n    }\r\n    queryItems() {\r\n        return this.queryItemsBySelector(\".dxbl-btn\").filter(el => el && !hasClass(el, \"dxbl-invisible\"));\r\n    }\r\n    handleKeyDown(evt) {\r\n        switch (KeyUtils.getEventKeyCode(evt)) {\r\n            case KeyCode.Enter:\r\n            case KeyCode.Space:\r\n                this.raiseClickEvent(this.selectedItemElement, evt.ctrlKey, evt.metaKey, evt.shiftKey);\r\n                return true;\r\n            case KeyCode.Left:\r\n                this.moveToPrevItem(true);\r\n                return true;\r\n            case KeyCode.Right:\r\n                this.moveToNextItem(true);\r\n                return true;\r\n            case KeyCode.Up:\r\n            case KeyCode.Down:\r\n                return true;\r\n            default:\r\n                return super.handleKeyDown(evt);\r\n        }\r\n    }\r\n}\r\nexport class DxToolbarModalBodyKeyboardStrategy extends DxToolbarDropDownRootMenuKeyboardStrategy {\r\n    constructor(navigator, targetElement, parentStrategy, focusSemaphore, modalStatusSignal, menuItemSelector) {\r\n        super(navigator, targetElement, parentStrategy, menuItemSelector);\r\n        this._boundModalStatusChanged = this.modalStatusChanged.bind(this);\r\n        this._levelController = new MenuLevelController();\r\n        this._focusSemaphore = focusSemaphore;\r\n        this._modalStatusSignal = modalStatusSignal;\r\n        this._modalStatusSignal.subscribe(this._boundModalStatusChanged);\r\n    }\r\n    get menuLevel() {\r\n        return this._levelController.currentLevel;\r\n    }\r\n    modalStatusChanged(_modal, status) {\r\n        if (status === WindowStatus.Shown)\r\n            this.onPopupShown();\r\n        else\r\n            this.onPopupClosed();\r\n    }\r\n    initialize() {\r\n        super.initialize();\r\n        this._levelController.updateState(this.selectedItemIndex, this.itemCount);\r\n        this.selectedItemIndex = this._levelController.selectedItemIndex;\r\n    }\r\n    activate() {\r\n        this._focusSemaphore.doIfAllowed(() => {\r\n            super.activate();\r\n        });\r\n        this._focusSemaphore.disallow();\r\n    }\r\n    handleLeftKey(evt) {\r\n        if (this.menuLevel > 0) {\r\n            this.moveToPrevLevel(evt);\r\n            return true;\r\n        }\r\n        else if (hasPopup(this.selectedItemElement)) {\r\n            this.moveToNextLevel(evt, MenuItem.Last);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    handleRightKey(evt) {\r\n        if (hasPopup(this.selectedItemElement)) {\r\n            this.moveToNextLevel(evt, MenuItem.First);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    doAction(evt) {\r\n        if (hasPopup(this.selectedItemElement))\r\n            this.moveToNextLevel(evt, MenuItem.First);\r\n        super.doAction(evt);\r\n    }\r\n    moveToNextLevel(evt, selectedMenuItem) {\r\n        this.performShortcutEvent(evt);\r\n        this._levelController.moveToNextLevel(selectedMenuItem);\r\n        this._focusSemaphore.allow();\r\n    }\r\n    moveToPrevLevel(evt) {\r\n        this.performShortcutEvent(evt);\r\n        this._levelController.moveToPrevLevel();\r\n        this._focusSemaphore.allow();\r\n    }\r\n    getShortcutContext() {\r\n        return {\r\n            level: this.menuLevel,\r\n            selectedItemIndex: this.selectedItemIndex\r\n        };\r\n    }\r\n    handlePopupClosed() {\r\n        super.handlePopupClosed();\r\n        this._levelController.clearState();\r\n    }\r\n    addEventSubscriptions() { }\r\n    removeEventSubscriptions() {\r\n        this._modalStatusSignal.unsubscribe(this._boundModalStatusChanged);\r\n    }\r\n}\r\n"],"names":["KeyUtils","KeyCode"],"mappings":"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"}