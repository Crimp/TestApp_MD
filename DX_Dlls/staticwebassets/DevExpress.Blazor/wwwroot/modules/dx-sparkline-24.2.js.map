{"version":3,"file":"dx-sparkline-24.2.js","sources":["../../Scripts/client-components/sparkline/events.ts","../../Scripts/components/dx-sparkline.ts"],"sourcesContent":["import { CustomEventsHelper } from \"../../blazor/custom-events-helper\";\r\nimport { ClientComponentEmptyContextEvent } from \"../common/events\";\r\nconst dxSparklinePrefix = \"dxbl-sparkline\";\r\nexport class SparklineDrawnEvent extends ClientComponentEmptyContextEvent {\r\n    constructor() {\r\n        super(SparklineDrawnEvent.eventName);\r\n    }\r\n}\r\nSparklineDrawnEvent.eventName = dxSparklinePrefix + \".drawn\";\r\nexport class SparklineExportedEvent extends ClientComponentEmptyContextEvent {\r\n    constructor() {\r\n        super(SparklineExportedEvent.eventName);\r\n    }\r\n}\r\nSparklineExportedEvent.eventName = dxSparklinePrefix + \".exported\";\r\nCustomEventsHelper.register(SparklineDrawnEvent.eventName, x => x.detail);\r\nCustomEventsHelper.register(SparklineExportedEvent.eventName, x => x.detail);\r\n","import { __decorate } from \"tslib\";\r\nimport { customElement } from \"lit/decorators.js\";\r\nimport { DevExtremeWidgetWrapper } from \"../client-components/common/devextreme-widget-wrapper\";\r\nimport { SparklineDrawnEvent, SparklineExportedEvent } from \"../client-components/sparkline/events\";\r\nimport { createFnAfterTimeoutExecutor } from \"../client-components/common/utils/create-after-timeout-fn-executor\";\r\nconst ArgumentField = \"arg\";\r\nconst ValueField = \"val\";\r\nconst SparklineClientMethods = {\r\n    exportTo: \"exportTo\",\r\n    print: \"print\",\r\n    svg: \"svg\",\r\n};\r\nlet DxSparkline = class DxSparkline extends DevExtremeWidgetWrapper {\r\n    constructor() {\r\n        super();\r\n        this._drawnExecutor = createFnAfterTimeoutExecutor(this.onDrawn.bind(this));\r\n    }\r\n    getWidgetTypeName() { return \"dxSparkline\"; }\r\n    createWidgetHandlers() {\r\n        return {\r\n            ...super.createWidgetHandlers(),\r\n            onDrawn: () => this.onDrawn(),\r\n            onOptionChanged: () => this.onOptionChanged(),\r\n            onExported: () => this.onExported(),\r\n        };\r\n    }\r\n    createWidgetDefaultOptions() {\r\n        return {\r\n            ignoreEmptyPoints: true,\r\n            tooltip: { enabled: false },\r\n        };\r\n    }\r\n    processSpecialOptions(_options) {\r\n        super.processSpecialOptions(_options);\r\n        if (_options.dataSource)\r\n            _options.dataSource = this._prepareDataSource(_options.dataSource);\r\n    }\r\n    getContainerToSetStyle() {\r\n        return this.getWidgetElement();\r\n    }\r\n    _prepareDataSource(dataSource) {\r\n        const argValues = dataSource[ArgumentField] || [];\r\n        const valValues = dataSource[ValueField] || [];\r\n        const updatedDataSource = [];\r\n        for (let i = 0; i < argValues.length; i++) {\r\n            updatedDataSource.push({\r\n                arg: argValues[i],\r\n                val: valValues[i]\r\n            });\r\n        }\r\n        return updatedDataSource;\r\n    }\r\n    onDrawn() {\r\n        this._drawnExecutor.reset();\r\n        this.changeLoadingPanelVisibility(false);\r\n        this.dispatchEvent(new SparklineDrawnEvent());\r\n    }\r\n    onExported() {\r\n        this.dispatchEvent(new SparklineExportedEvent());\r\n    }\r\n    onOptionChanged() {\r\n        this._drawnExecutor.execute();\r\n    }\r\n    onlyContainerSizeChanged() {\r\n        var _a;\r\n        (_a = this._widgetPromise) === null || _a === void 0 ? void 0 : _a.then(widget => {\r\n            widget.render();\r\n        });\r\n        this.onDrawn();\r\n    }\r\n    getSkippedEmptyOptions() {\r\n        return [\"dataSource\"];\r\n    }\r\n    // DevExtreme Client Methods\r\n    [SparklineClientMethods.exportTo](...args) {\r\n        return this.executeClientMethod(SparklineClientMethods.exportTo, ...args);\r\n    }\r\n    [SparklineClientMethods.print](...args) {\r\n        return this.executeClientMethod(SparklineClientMethods.print, ...args);\r\n    }\r\n    [SparklineClientMethods.svg](...args) {\r\n        return this.executeClientMethod(SparklineClientMethods.svg, ...args);\r\n    }\r\n};\r\nDxSparkline = __decorate([\r\n    customElement(\"dxbl-sparkline\")\r\n], DxSparkline);\r\nexport { DxSparkline };\r\n"],"names":["customElement"],"mappings":"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"}