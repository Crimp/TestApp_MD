{"version":3,"file":"dx-html-element-base-24.2.js","sources":["../../Scripts/common/dx-html-element-base.ts"],"sourcesContent":["import DataQaUtils from \"../utils/data-qa-utils\";\r\nimport * as PointerEvents from \"./pointer-events\";\r\nimport { DxElementPointerEventsHelper } from \"./dx-html-element-pointer-events-helper\";\r\nimport { registerTrialPanelComponents } from \"./dx-license\";\r\nregisterTrialPanelComponents();\r\nconst Template = document.createElement(\"template\");\r\nTemplate.innerHTML = \"<slot />\";\r\nexport class DxHTMLElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        this._handlePointerEventsMode = PointerEvents.HandlePointerEventsMode.None;\r\n        this._isInitialized = false;\r\n        this._isDisconnected = false;\r\n        this.pointerEventsHelper = new DxElementPointerEventsHelper(this);\r\n        this.contentChangedObserver = null;\r\n        this.prepareComponent();\r\n    }\r\n    get isInitialized() {\r\n        return this._isInitialized;\r\n    }\r\n    get useShadowDom() {\r\n        return true;\r\n    }\r\n    connectedCallback() {\r\n        if (!this.useShadowDom && this.childElementCount > 0)\r\n            this.componentContentChanged();\r\n        if (this.useShadowDom && this._isDisconnected)\r\n            // in case if the component has changed his position in DOM (T1136141)\r\n            this.componentContentChanged();\r\n        this.pointerEventsHelper.initialize();\r\n        DataQaUtils.setLoaded(this);\r\n        this._isDisconnected = false;\r\n    }\r\n    disconnectedCallback() {\r\n        DataQaUtils.removeLoaded(this);\r\n        this.pointerEventsHelper.dispose();\r\n        this.disposeComponent();\r\n        this._isDisconnected = true;\r\n    }\r\n    initializeComponent() {\r\n    }\r\n    afterInitialize() {\r\n    }\r\n    disposeComponent() {\r\n        var _a;\r\n        (_a = this.contentChangedObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\r\n    }\r\n    getContentTemplate() {\r\n        return Template;\r\n    }\r\n    componentContentChanged() {\r\n        this.initializeComponent();\r\n        this._isInitialized = true;\r\n        this.afterInitialize();\r\n    }\r\n    prepareComponent() {\r\n        if (this.useShadowDom)\r\n            this.prepareShadowDom();\r\n        else {\r\n            this.contentChangedObserver = new MutationObserver(this.componentContentChanged.bind(this));\r\n            this.contentChangedObserver.observe(this, { childList: true });\r\n        }\r\n    }\r\n    prepareShadowDom() {\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.appendChild(this.getContentTemplate().content.cloneNode(true));\r\n        const slotElement = shadowRoot.querySelector(\"slot\");\r\n        slotElement.addEventListener(\"slotchange\", this.componentContentChanged.bind(this));\r\n    }\r\n    // Pointer events interaction\r\n    get handlePointerEventsMode() {\r\n        return this._handlePointerEventsMode;\r\n    }\r\n    set handlePointerEventsMode(value) {\r\n        this._handlePointerEventsMode = value;\r\n    }\r\n    get handlePointerEventsTarget() {\r\n        return this;\r\n    }\r\n    get handlePointerEventsDelay() {\r\n        return PointerEvents.LongTapInteractionTimeout;\r\n    }\r\n    get hoverTitleElementsSelector() {\r\n        return null;\r\n    }\r\n    get bypassNonInlineHoverTitleElementChildSelector() {\r\n        return null;\r\n    }\r\n    shouldProcessPointerEvent(evt) {\r\n        return true;\r\n    }\r\n}\r\n"],"names":["PointerEvents.HandlePointerEventsMode","PointerEvents.LongTapInteractionTimeout"],"mappings":"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"}