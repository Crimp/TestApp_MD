{"version":3,"file":"dragging-helper-24.2.js","sources":["../../Scripts/common/dragging/dragging-utils.ts","../../Scripts/common/dragging/dragging-registry.ts","../../Scripts/common/dragging/dragging-helper.ts"],"sourcesContent":["export class DraggingUtils {\r\n    static getPointerPosition(evt) {\r\n        return {\r\n            x: evt.pageX,\r\n            y: evt.pageY\r\n        };\r\n    }\r\n    static getDocumentScrollPosition() {\r\n        return {\r\n            x: document.documentElement.scrollLeft,\r\n            y: document.documentElement.scrollTop\r\n        };\r\n    }\r\n    static getElementPosition(element) {\r\n        const { left, top } = element.getBoundingClientRect();\r\n        return {\r\n            x: left,\r\n            y: top\r\n        };\r\n    }\r\n}\r\n","class DropTargetRegistry {\r\n    constructor() {\r\n        this.draggingHelpersMap = new Map();\r\n    }\r\n    register(helper) {\r\n        this.draggingHelpersMap.set(helper.getKey(), helper);\r\n    }\r\n    remove(key) {\r\n        this.draggingHelpersMap.delete(key);\r\n    }\r\n    find(key) {\r\n        var _a;\r\n        return (_a = this.draggingHelpersMap.get(key)) !== null && _a !== void 0 ? _a : null;\r\n    }\r\n    getTargets() {\r\n        return [...this.draggingHelpersMap.values()];\r\n    }\r\n}\r\nexport const dropTargetRegistrySingleton = new DropTargetRegistry();\r\n","import { DraggingUtils } from \"./dragging-utils\";\r\nimport { dropTargetRegistrySingleton } from \"./dragging-registry\";\r\nimport { CssClasses } from \"../../css-classes\";\r\nexport class DraggingHelperBase {\r\n    constructor() {\r\n        this.draggableContext = null;\r\n        this.isRefreshUIRequested = false;\r\n        this.boundOnDocumentMouseMoveHandler = this.onDocumentMouseMove.bind(this);\r\n        this.boundOnDocumentScrollHandler = this.onDocumentScroll.bind(this);\r\n    }\r\n    start(srcElement, mouseDownEvt) {\r\n        const draggableElement = this.getDraggableElement(srcElement);\r\n        this.draggableContext = this.createDraggableContext(srcElement, draggableElement, mouseDownEvt);\r\n        this.addEventSubscriptions();\r\n        this.updateDraggableElement(mouseDownEvt);\r\n    }\r\n    stop() {\r\n        if (this.draggableContext)\r\n            this.draggableContext.isStarted = false;\r\n        this.isRefreshUIRequested = false;\r\n        this.hideDraggableElement();\r\n        this.removeEventSubscriptions();\r\n        this.draggableContext = null;\r\n    }\r\n    isStarted() {\r\n        var _a;\r\n        return !!((_a = this.draggableContext) === null || _a === void 0 ? void 0 : _a.isStarted);\r\n    }\r\n    hideDraggableElement() {\r\n        if (this.draggableContext) {\r\n            this.draggableContext.dragableElement.style.transform = \"\";\r\n            this.draggableContext.dragableElement.classList.remove(CssClasses.Visible);\r\n        }\r\n    }\r\n    addEventSubscriptions() {\r\n        document.addEventListener(\"pointermove\", this.boundOnDocumentMouseMoveHandler);\r\n        document.addEventListener(\"scroll\", this.boundOnDocumentScrollHandler);\r\n    }\r\n    removeEventSubscriptions() {\r\n        document.removeEventListener(\"pointermove\", this.boundOnDocumentMouseMoveHandler);\r\n        document.removeEventListener(\"scroll\", this.boundOnDocumentScrollHandler);\r\n    }\r\n    refreshUI() {\r\n        if (!this.isRefreshUIRequested) {\r\n            this.isRefreshUIRequested = true;\r\n            requestAnimationFrame(() => this.refreshUICore());\r\n        }\r\n    }\r\n    refreshUICore() {\r\n        this.isRefreshUIRequested = false;\r\n        if (!this.isStarted() || !this.draggableContext)\r\n            return;\r\n        const context = this.draggableContext;\r\n        context.dragableElement.style.transform = `translate(${Math.round(context.draggableElementPosition.x)}px, ${Math.round(context.draggableElementPosition.y)}px)`;\r\n        context.dragableElement.classList.add(CssClasses.Visible);\r\n    }\r\n    createDraggableContext(srcElement, draggableElement, pointerDownEvt) {\r\n        const scrollPosition = DraggingUtils.getDocumentScrollPosition();\r\n        const pointerPosition = DraggingUtils.getPointerPosition(pointerDownEvt);\r\n        return {\r\n            isStarted: true,\r\n            srcElement: srcElement,\r\n            srcElementPosition: DraggingUtils.getElementPosition(srcElement),\r\n            dragableElement: draggableElement,\r\n            mouseOverElement: null,\r\n            mouseOverElementRect: null,\r\n            isPossibleDropItem: false,\r\n            initialCursorPosition: pointerPosition,\r\n            currentCursorPosition: { x: 0, y: 0 },\r\n            draggableElementOffset: DraggingUtils.getElementPosition(draggableElement),\r\n            draggableElementPosition: pointerPosition,\r\n            initialScrollPosition: scrollPosition,\r\n            currentScrollPosition: scrollPosition,\r\n        };\r\n    }\r\n    clearMoveStateFromDraggableContext() {\r\n        if (!this.draggableContext)\r\n            return;\r\n        this.draggableContext.mouseOverElement = null;\r\n        this.draggableContext.mouseOverElementRect = null;\r\n        this.draggableContext.isPossibleDropItem = false;\r\n    }\r\n    setMouseOverElementInfo(dropElement) {\r\n        if (!this.draggableContext)\r\n            return;\r\n        const rect = dropElement.getBoundingClientRect();\r\n        const { currentScrollPosition } = this.draggableContext;\r\n        this.draggableContext.mouseOverElement = dropElement;\r\n        this.draggableContext.mouseOverElementRect = {\r\n            x: rect.left + currentScrollPosition.x,\r\n            y: rect.top + currentScrollPosition.y,\r\n            width: rect.width,\r\n            height: rect.height,\r\n        };\r\n    }\r\n    updateDraggableElementPosition() {\r\n        if (!this.draggableContext)\r\n            return;\r\n        const context = this.draggableContext;\r\n        const x = context.currentCursorPosition.x - context.currentScrollPosition.x;\r\n        const y = context.currentCursorPosition.y - context.currentScrollPosition.y;\r\n        context.draggableElementPosition = { x, y };\r\n    }\r\n    onElementMouseOut(_) {\r\n        this.clearMoveStateFromDraggableContext();\r\n        this.refreshUI();\r\n    }\r\n    onDocumentMouseMove(evt) {\r\n        this.updateDraggableElement(evt);\r\n    }\r\n    onDocumentScroll(_) {\r\n        if (!this.draggableContext)\r\n            return;\r\n        const context = this.draggableContext;\r\n        context.currentScrollPosition = DraggingUtils.getDocumentScrollPosition();\r\n        context.srcElementPosition = DraggingUtils.getElementPosition(context.srcElement);\r\n        if (context.mouseOverElement)\r\n            this.setMouseOverElementInfo(context.mouseOverElement);\r\n        this.updateDraggableElementPosition();\r\n        this.refreshUI();\r\n    }\r\n    updateDraggableElement(evt) {\r\n        if (!this.draggableContext)\r\n            return;\r\n        const context = this.draggableContext;\r\n        context.currentCursorPosition = { x: evt.pageX, y: evt.pageY };\r\n        context.initialScrollPosition = context.currentScrollPosition;\r\n        this.updateDraggableElementPosition();\r\n        this.refreshUI();\r\n    }\r\n}\r\nexport class ItemDraggingHelper extends DraggingHelperBase {\r\n    constructor() {\r\n        super();\r\n        this.boundOnElementMouseOutHandler = this.onElementMouseOut.bind(this);\r\n    }\r\n    get draggableItemContext() {\r\n        return (this.draggableContext);\r\n    }\r\n    createItemDraggedHandlerArgs() {\r\n        if (!this.draggableItemContext || !this.draggableItemContext.isPossibleDropItem || !this.draggableItemContext.target)\r\n            return null;\r\n        const target = this.draggableItemContext.target;\r\n        return {\r\n            sourceInfo: this.createSourceInfo(),\r\n            targetInfo: target.createTargetInfo()\r\n        };\r\n    }\r\n    createTargetInfo() {\r\n        return { key: this.getKey() };\r\n    }\r\n    activateDropTarget(context) {\r\n        if (!this.isWithinDragging())\r\n            this.draggableContext = context;\r\n        this.addElementListeners(this.getItemDropArea());\r\n    }\r\n    deactivateDropTarget() {\r\n        this.removeElementListeners(this.getItemDropArea());\r\n        if (!this.isWithinDragging())\r\n            this.draggableContext = null;\r\n    }\r\n    start(srcElement, mouseDownEvt) {\r\n        var _a, _b;\r\n        super.start(srcElement, mouseDownEvt);\r\n        (_b = (_a = this.getDraggableHintElement()) === null || _a === void 0 ? void 0 : _a.show) === null || _b === void 0 ? void 0 : _b.call(_a);\r\n        this.getDroppableTargets().forEach(target => target.activateDropTarget.bind(target)(this.draggableContext));\r\n    }\r\n    stop() {\r\n        var _a, _b;\r\n        this.getDroppableTargets().forEach(target => target.deactivateDropTarget.bind(target)());\r\n        (_b = (_a = this.getDraggableHintElement()) === null || _a === void 0 ? void 0 : _a.hide) === null || _b === void 0 ? void 0 : _b.call(_a);\r\n        super.stop();\r\n    }\r\n    createDraggableContext(srcElement, draggableElement, pointerDownEvt) {\r\n        const baseContext = super.createDraggableContext(srcElement, draggableElement, pointerDownEvt);\r\n        return {\r\n            ...baseContext,\r\n            source: this,\r\n            target: this,\r\n            targetKey: null,\r\n        };\r\n    }\r\n    getDroppableTargets() {\r\n        return dropTargetRegistrySingleton.getTargets();\r\n    }\r\n    updateDraggableContext(dropItemElement) {\r\n        if (!this.draggableItemContext)\r\n            return;\r\n        const { isPossibleDropItem, target } = this.draggableItemContext;\r\n        const currentDropArea = this.getItemDropArea();\r\n        if (target && isPossibleDropItem && ItemDraggingHelper.isDescendantElement(currentDropArea, target.getItemDropArea()))\r\n            return;\r\n        this.clearMoveStateFromDraggableContext();\r\n        this.setMouseOverElementInfo(dropItemElement);\r\n        this.draggableItemContext.target = this;\r\n        this.draggableItemContext.targetKey = this.getKey();\r\n        this.draggableItemContext.isPossibleDropItem = this.isItemDropPossible(dropItemElement);\r\n    }\r\n    isWithinDragging() {\r\n        var _a;\r\n        return ((_a = this.draggableItemContext) === null || _a === void 0 ? void 0 : _a.source) === this;\r\n    }\r\n    createSourceInfo() {\r\n        return { key: this.getKey() };\r\n    }\r\n    addElementListeners(element) {\r\n        element.addEventListener(\"pointerout\", this.boundOnElementMouseOutHandler);\r\n    }\r\n    removeElementListeners(element) {\r\n        element.removeEventListener(\"pointerout\", this.boundOnElementMouseOutHandler);\r\n    }\r\n    isItemDropPossible(_dropItemElement) {\r\n        return true;\r\n    }\r\n    getDraggableHintElement() {\r\n        var _a, _b;\r\n        return (_b = (_a = this.draggableContext) === null || _a === void 0 ? void 0 : _a.dragableElement) !== null && _b !== void 0 ? _b : null;\r\n    }\r\n    static isDescendantElement(parent, element) {\r\n        if (parent === element)\r\n            return false;\r\n        return parent.contains(element);\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}