{"version":3,"file":"flyout-24.2.js","sources":["../../Scripts/popup/flyout.ts"],"sourcesContent":["var DxFlyout_1;\r\nimport { __decorate } from \"tslib\";\r\nimport { CustomPopupPlacement, DropAlignment, DropDirection, DxPopup, PlacementMode, PopupPrimaryAxis } from \"./popup\";\r\nimport { customElement, property, query } from \"lit/decorators.js\";\r\nimport { BranchType } from \"./branchtree\";\r\nimport { html } from \"lit\";\r\nimport { Point } from \"../utils/point\";\r\nimport { Vector } from \"../utils/vector\";\r\nimport { Range } from \"../utils/rect\";\r\nimport { DxFlyoutDialog } from \"./flyoutdialog\";\r\nimport { FlyoutArrowAlignment } from \"./flyoutarrow\";\r\nimport { FlyoutKeyboardStrategy } from \"./keyboard-navigation\";\r\nexport var FlyoutPosition;\r\n(function (FlyoutPosition) {\r\n    FlyoutPosition[FlyoutPosition[\"TopStart\"] = 1] = \"TopStart\";\r\n    FlyoutPosition[FlyoutPosition[\"Top\"] = 2] = \"Top\";\r\n    FlyoutPosition[FlyoutPosition[\"TopEnd\"] = 4] = \"TopEnd\";\r\n    FlyoutPosition[FlyoutPosition[\"RightStart\"] = 8] = \"RightStart\";\r\n    FlyoutPosition[FlyoutPosition[\"Right\"] = 16] = \"Right\";\r\n    FlyoutPosition[FlyoutPosition[\"RightEnd\"] = 32] = \"RightEnd\";\r\n    FlyoutPosition[FlyoutPosition[\"BottomStart\"] = 64] = \"BottomStart\";\r\n    FlyoutPosition[FlyoutPosition[\"Bottom\"] = 128] = \"Bottom\";\r\n    FlyoutPosition[FlyoutPosition[\"BottomEnd\"] = 256] = \"BottomEnd\";\r\n    FlyoutPosition[FlyoutPosition[\"LeftStart\"] = 512] = \"LeftStart\";\r\n    FlyoutPosition[FlyoutPosition[\"Left\"] = 1024] = \"Left\";\r\n    FlyoutPosition[FlyoutPosition[\"LeftEnd\"] = 2048] = \"LeftEnd\";\r\n})(FlyoutPosition || (FlyoutPosition = {}));\r\nexport class CustomFlyoutPlacement extends CustomPopupPlacement {\r\n    constructor(flyoutPosition, point, axis, dropOpposite, dropDirection, dropAlignment) {\r\n        super(point, axis, dropOpposite, dropDirection, dropAlignment);\r\n        this.flyoutPosition = flyoutPosition;\r\n    }\r\n}\r\nexport const dxFlyoutTagName = \"dxbl-flyout\";\r\nlet DxFlyout = DxFlyout_1 = class DxFlyout extends DxPopup {\r\n    get actualDistance() {\r\n        var _a;\r\n        return (_a = this.flyoutDistance) !== null && _a !== void 0 ? _a : 2;\r\n    }\r\n    get actualOffset() {\r\n        var _a;\r\n        return (_a = this.flyoutOffset) !== null && _a !== void 0 ? _a : 0;\r\n    }\r\n    get branchType() {\r\n        return BranchType.DropDown;\r\n    }\r\n    constructor() {\r\n        super();\r\n        this.slotChangedHandler = this.handleSlotChange.bind(this);\r\n        this.dialog = null;\r\n        this.flyoutDistance = null;\r\n        this.flyoutOffset = null;\r\n        this.calcStartAlignment = () => 0;\r\n        this.calcEndAlignment = (childSize, targetSize) => targetSize - childSize;\r\n        this.calcAlignment = (childSize, targetSize) => targetSize / 2 - childSize / 2;\r\n        this.placement = PlacementMode.Custom;\r\n        this.fitToRestriction = true;\r\n        this.flyoutPosition = 0;\r\n    }\r\n    get child() {\r\n        return this.root;\r\n    }\r\n    processCustomPlacement(childPoints, placementTargetPoints) {\r\n        return this.calcCustomPlacements(childPoints, placementTargetPoints);\r\n    }\r\n    calcCustomPlacements(childPoints, targetPoints) {\r\n        const result = [];\r\n        if (!this.dialog || !this.dialog.arrow)\r\n            return result;\r\n        const targetBounds = this.getBounds(targetPoints);\r\n        const childBounds = this.getBounds(childPoints);\r\n        const arrowSize = this.dialog.arrow.arrowSize;\r\n        if (this.flyoutPosition & FlyoutPosition.Bottom)\r\n            result.push(this.calcBottomPlacement(targetBounds, arrowSize, this.calcAlignment(childBounds.width, targetBounds.width), FlyoutPosition.Bottom));\r\n        if (this.flyoutPosition & FlyoutPosition.BottomStart)\r\n            result.push(this.calcBottomPlacement(targetBounds, arrowSize, this.calcStartAlignment(), FlyoutPosition.BottomStart));\r\n        if (this.flyoutPosition & FlyoutPosition.BottomEnd)\r\n            result.push(this.calcBottomPlacement(targetBounds, arrowSize, this.calcEndAlignment(childBounds.width, targetBounds.width), FlyoutPosition.BottomEnd));\r\n        if (this.flyoutPosition & FlyoutPosition.Top)\r\n            result.push(this.calcTopPlacement(childBounds, arrowSize, this.calcAlignment(childBounds.width, targetBounds.width), FlyoutPosition.Top));\r\n        if (this.flyoutPosition & FlyoutPosition.TopStart)\r\n            result.push(this.calcTopPlacement(childBounds, arrowSize, this.calcStartAlignment(), FlyoutPosition.TopStart));\r\n        if (this.flyoutPosition & FlyoutPosition.TopEnd)\r\n            result.push(this.calcTopPlacement(childBounds, arrowSize, this.calcEndAlignment(childBounds.width, targetBounds.width), FlyoutPosition.TopEnd));\r\n        if (this.flyoutPosition & FlyoutPosition.Left)\r\n            result.push(this.calcLeftPlacement(childBounds, arrowSize, this.calcAlignment(childBounds.height, targetBounds.height), FlyoutPosition.Left));\r\n        if (this.flyoutPosition & FlyoutPosition.LeftStart)\r\n            result.push(this.calcLeftPlacement(childBounds, arrowSize, this.calcStartAlignment(), FlyoutPosition.LeftStart));\r\n        if (this.flyoutPosition & FlyoutPosition.LeftEnd)\r\n            result.push(this.calcLeftPlacement(childBounds, arrowSize, this.calcEndAlignment(childBounds.height, targetBounds.height), FlyoutPosition.LeftEnd));\r\n        if (this.flyoutPosition & FlyoutPosition.Right)\r\n            result.push(this.calcRightPlacement(targetBounds, arrowSize, this.calcAlignment(childBounds.height, targetBounds.height), FlyoutPosition.Right));\r\n        if (this.flyoutPosition & FlyoutPosition.RightStart)\r\n            result.push(this.calcRightPlacement(targetBounds, arrowSize, this.calcStartAlignment(), FlyoutPosition.RightStart));\r\n        if (this.flyoutPosition & FlyoutPosition.RightEnd)\r\n            result.push(this.calcRightPlacement(targetBounds, arrowSize, this.calcEndAlignment(childBounds.height, targetBounds.height), FlyoutPosition.RightEnd));\r\n        return result;\r\n    }\r\n    // Dialog Placement\r\n    calcLeftPlacement(child, arrowSize, alignment, flyoutPosition) {\r\n        const hgrow = this.actualDistance;\r\n        const voffset = this.actualOffset;\r\n        const pt = new Point(-child.width - arrowSize.width - hgrow, alignment + voffset);\r\n        return new CustomFlyoutPlacement(flyoutPosition, pt, PopupPrimaryAxis.Horizontal, true, /* horz-left */ DropDirection.Near, DropAlignment.bottom);\r\n    }\r\n    calcTopPlacement(child, arrowSize, alignment, flyoutPosition) {\r\n        const vgrow = this.actualDistance;\r\n        const hoffset = this.actualOffset;\r\n        const pt = new Point(alignment + hoffset, -child.height - arrowSize.height - vgrow);\r\n        return new CustomFlyoutPlacement(flyoutPosition, pt, PopupPrimaryAxis.Vertical, true, DropDirection.Near, /* vert-top */ DropAlignment.top);\r\n    }\r\n    calcRightPlacement(target, arrowSize, alignment, flyoutPosition) {\r\n        const hgrow = this.actualDistance;\r\n        const voffset = this.actualOffset;\r\n        const pt = new Point(target.width + arrowSize.width + hgrow, alignment + voffset);\r\n        return new CustomFlyoutPlacement(flyoutPosition, pt, PopupPrimaryAxis.Horizontal, false, /* horz-right */ DropDirection.Far, DropAlignment.bottom);\r\n    }\r\n    calcBottomPlacement(target, arrowSize, alignment, flyoutPosition) {\r\n        const vgrow = this.actualDistance;\r\n        const hoffset = this.actualOffset;\r\n        const pt = new Point(alignment + hoffset, target.height + arrowSize.height + vgrow);\r\n        return new CustomFlyoutPlacement(flyoutPosition, pt, PopupPrimaryAxis.Vertical, false, DropDirection.Near, /* vert-top */ DropAlignment.bottom);\r\n    }\r\n    //\r\n    processBestTranslationResults(bestTranslation, childBounds, targetBounds, screenBounds, bestDropOpposite, bestDropDirection, bestDropAlignment, bestAxis, bestCustomPlacement) {\r\n        super.processBestTranslationResults(bestTranslation, childBounds, targetBounds, screenBounds, bestDropOpposite, bestDropDirection, bestDropAlignment, bestAxis, bestCustomPlacement);\r\n        if (!this.dialog || !this.dialog.arrow)\r\n            return;\r\n        const arrowAlignment = this.calcArrowAlignment(bestDropDirection, bestDropAlignment, bestAxis);\r\n        this.dialog.arrowAlignment = arrowAlignment;\r\n        const arrow = this.dialog.arrow;\r\n        // eslint-disable-next-line @typescript-eslint/no-non-null-asserted-optional-chain\r\n        arrow.position = this.getArrowPosition(arrow, childBounds, targetBounds, screenBounds, bestAxis, bestCustomPlacement === null || bestCustomPlacement === void 0 ? void 0 : bestCustomPlacement.flyoutPosition);\r\n        arrow.alignment = arrowAlignment;\r\n    }\r\n    // Arrow Placement\r\n    getArrowPosition(arrow, childBounds, targetBounds, screenBounds, axis, flyoutPosition) {\r\n        const isVertical = axis === PopupPrimaryAxis.Vertical;\r\n        const arrowSizeValue = isVertical ? arrow.arrowSize.width : arrow.arrowSize.height;\r\n        const targetRange = Range.rectToRange(targetBounds, isVertical);\r\n        const childRange = Range.rectToRange(childBounds, isVertical);\r\n        const screenRange = Range.rectToRange(screenBounds, isVertical);\r\n        let realChildStart = childRange.start;\r\n        let realChildEnd = childRange.end;\r\n        if (this.fitToRestriction) {\r\n            if (childRange.start <= screenRange.start) {\r\n                realChildStart = screenRange.start;\r\n                realChildEnd = realChildStart + childRange.size;\r\n            }\r\n            else if (childRange.end >= screenRange.end) {\r\n                realChildStart = screenRange.end - childRange.size;\r\n                realChildEnd = realChildStart + childRange.size;\r\n            }\r\n        }\r\n        const [startBounds, endBounds] = [Math.max(realChildStart, targetRange.start), Math.min(realChildEnd, targetRange.end)];\r\n        let desiredPoint;\r\n        if (flyoutPosition & (FlyoutPosition.RightStart | FlyoutPosition.RightEnd | FlyoutPosition.LeftStart | FlyoutPosition.LeftEnd))\r\n            desiredPoint = targetRange.start;\r\n        else\r\n            desiredPoint = targetRange.start + targetRange.size / 2;\r\n        const positionWithinBoundaries = this.alignWithinBoundaries(desiredPoint - arrowSizeValue / 2, startBounds, endBounds);\r\n        const childOffsetFromEdge = this.calculateArrowOffsetFromEdge(targetRange, arrowSizeValue, childRange);\r\n        return isVertical\r\n            ? new Vector(Math.min(Math.max(positionWithinBoundaries - realChildStart, childOffsetFromEdge), childBounds.width - childOffsetFromEdge - arrowSizeValue), 0)\r\n            : new Vector(0, Math.min(Math.max(positionWithinBoundaries - realChildEnd, childOffsetFromEdge - childBounds.height), -childOffsetFromEdge - arrowSizeValue));\r\n    }\r\n    calcArrowAlignment(dropDirection, dropAlignment, axis) {\r\n        if (axis === PopupPrimaryAxis.Vertical)\r\n            return dropAlignment === DropAlignment.bottom ? FlyoutArrowAlignment.bottom : FlyoutArrowAlignment.top;\r\n        else\r\n            return dropDirection === DropDirection.Near ? FlyoutArrowAlignment.start : FlyoutArrowAlignment.end;\r\n    }\r\n    alignWithinBoundaries(value, near, far) {\r\n        if (near >= far)\r\n            return (near + far) / 2;\r\n        return Math.min(Math.max(value, near), far);\r\n    }\r\n    calculateArrowOffsetFromEdge(targetRange, arrowSizeValue, childRange) {\r\n        const targetRequiredOffset = Math.min(targetRange.size - arrowSizeValue, targetRange.size / 2 - arrowSizeValue / 2);\r\n        return Math.max(DxFlyout_1.DefaultArrowOffsetFromEdge, Math.min(targetRequiredOffset, childRange.size * 0.2));\r\n    }\r\n    //\r\n    renderTemplate() {\r\n        return html `\r\n            <dxbl-branch\r\n                id=\"branch\"\r\n                branch-id=\"${this.branchId}\"\r\n                parent-branch-id=\"${this.parentBranchId}\"\r\n                type=\"${BranchType.Flyout}\">\r\n                <dxbl-flyout-root\r\n                    id=\"root\"\r\n                    style=\"${this.rootCssStyle}\">\r\n                    ${this.renderDefaultSlot()}\r\n                    ${this.renderBridgeSlot()}\r\n                </dxbl-flyout-root>\r\n            </dxbl-branch>\r\n        `;\r\n    }\r\n    renderDefaultSlot() {\r\n        return html `<slot @slotchange=\"${this.slotChangedHandler}\"></slot>`;\r\n    }\r\n    handleSlotChange(e) {\r\n        const slot = e.target;\r\n        const elements = slot.assignedNodes();\r\n        this.dialog = elements.find(x => x instanceof DxFlyoutDialog);\r\n        if (this.dialog)\r\n            this.dialog.animationEnabled = this.animationEnabled;\r\n        this.reposition();\r\n    }\r\n    updated(updated) {\r\n        super.updated(updated);\r\n        if (this.dialog && updated.has(\"animationEnabled\"))\r\n            this.dialog.animationEnabled = this.animationEnabled;\r\n    }\r\n    createKeyboardNavigationStrategy() {\r\n        return new FlyoutKeyboardStrategy(this.keyboardNavigator, this);\r\n    }\r\n};\r\nDxFlyout.DefaultArrowOffsetFromEdge = 8;\r\n__decorate([\r\n    query(\"#root\", true)\r\n], DxFlyout.prototype, \"root\", void 0);\r\n__decorate([\r\n    property({ type: Number, attribute: \"flyout-position\" })\r\n], DxFlyout.prototype, \"flyoutPosition\", void 0);\r\n__decorate([\r\n    property({ type: Number, attribute: \"flyout-distance\" })\r\n], DxFlyout.prototype, \"flyoutDistance\", void 0);\r\n__decorate([\r\n    property({ type: Number, attribute: \"flyout-offset\" })\r\n], DxFlyout.prototype, \"flyoutOffset\", void 0);\r\nDxFlyout = DxFlyout_1 = __decorate([\r\n    customElement(dxFlyoutTagName)\r\n], DxFlyout);\r\nexport { DxFlyout };\r\nexport default { DxFlyout, dxFlyoutTagName };\r\n"],"names":["html","query","property","customElement"],"mappings":"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"}