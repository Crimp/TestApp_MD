{"version":3,"file":"columnchooser-24.2.js","sources":["../../Scripts/data-grid/columnchooser.js"],"sourcesContent":["import { ensureElement, eraseBlazorIdentificators } from \"./../dom-utils\";\r\nimport { EventRegister } from \"./../eventRegister\";\r\nimport { DragAndDropUnit, FocusUnit, RectBlz, getClientRect } from \"./../dragAndDropUnit\";\r\n\r\nlet chooserItems = null;\r\nlet sourceItem;\r\nlet sourceIndex = -1;\r\nlet itemToDragUnitMap;\r\nlet itemToFocusUnitMap;\r\nlet _dotnetHelper;\r\nlet focusedItemIndex = -1;\r\n\r\nlet mapRect;\r\nlet events;\r\n\r\nlet exitButtonFocusUnit;\r\nlet needFocusContent = true;\r\nlet isModal = false;\r\nlet container;\r\nlet abs_container;\r\n\r\nconst TabKeyCode = 9;\r\nconst SpaceKeyCode = 32;\r\nconst UpKeyCode = 38;\r\nconst DownKeyCode = 40;\r\n\r\nfunction GetPreparedColumnInfo(colInfo) {\r\n    const col = colInfo.clientRef;\r\n    if(colInfo.serverRef)\r\n        col._dx_server_ref = colInfo.serverRef;\r\n    return col;\r\n}\r\nexport function init(_container, _columnsInfo, _focusContent, blazorComponent) {\r\n    const inputElements = Array.from(_columnsInfo).map(colInfo => GetPreparedColumnInfo(colInfo));\r\n    if(!_dotnetHelper)\r\n        _dotnetHelper = blazorComponent;\r\n    else if(_dotnetHelper._id !== blazorComponent._id) {\r\n        dispose(_dotnetHelper);\r\n        _dotnetHelper = blazorComponent;\r\n    }\r\n\r\n    if(!container) {\r\n        container = _container;\r\n        let c = container;\r\n        while(c.parentNode !== document && c.classList) {\r\n            if(c.classList.contains(\"modal-dialog\")) {\r\n                isModal = true;\r\n                break;\r\n            }\r\n            c = c.parentNode;\r\n        }\r\n    }\r\n\r\n    mapRect = new Map();\r\n    if(events) events.dispose();\r\n    events = new EventRegister(container);\r\n\r\n    if(!chooserItems) {\r\n        itemToDragUnitMap = new Map();\r\n        itemToFocusUnitMap = new Map();\r\n        chooserItems = inputElements;\r\n    }\r\n\r\n    focusedItemIndex = -1;\r\n    events.attachEventWithContext(document, \"keydown\", arrowsKeysNavigation, document);\r\n\r\n    if(chooserItems) {\r\n        chooserItems.sort((a, b) => a.dataset.vindex - b.dataset.vindex);\r\n        abs_container = findContainerFor(container, \"absolute\");\r\n        setNeedFocusContent(_focusContent && !isModal);\r\n\r\n        if(getNeedFocusContent()) {\r\n            const token = events.attachEvent(abs_container, \"focusin\", function() {\r\n                token.dispose();\r\n                chooserItems[0].focus();\r\n            });\r\n        }\r\n    }\r\n\r\n    resetDraggableItem();\r\n}\r\n\r\nfunction findContainerFor(element, _position) {\r\n    if(isModal)\r\n        return element;\r\n    let _container = element;\r\n    let style = window.getComputedStyle(_container);\r\n    while(style.position !== _position && _container.parentNode !== document) {\r\n        _container = _container.parentNode;\r\n        style = window.getComputedStyle(_container);\r\n    }\r\n    return _container;\r\n}\r\n\r\nfunction setNeedFocusContent(focus) {\r\n    needFocusContent = focus;\r\n\r\n    if(exitButtonFocusUnit) exitButtonFocusUnit.dispose();\r\n    const button = document.querySelector(\".column-chooser-exit-button\");\r\n    exitButtonFocusUnit = button ? new FocusUnit(button, null, container, !needFocusContent) : null;\r\n\r\n    itemToFocusUnitMap.forEach(function(v) { v.dispose(); });\r\n    itemToFocusUnitMap = new Map();\r\n    chooserItems.forEach(function(item) { attachEvents(item, abs_container); });\r\n}\r\n\r\nfunction getNeedFocusContent() {\r\n    return needFocusContent;\r\n}\r\n\r\nfunction arrowsKeysNavigation(event) {\r\n    if(!getNeedFocusContent()) {\r\n        setNeedFocusContent(true);\r\n        if(event.keyCode === TabKeyCode)\r\n            chooserItems[chooserItems.length - 1].focus();\r\n    }\r\n    switch(event.keyCode) {\r\n        case SpaceKeyCode:\r\n            if(focusedItemIndex >= 0) {\r\n                event.preventDefault();\r\n                chooserItems[focusedItemIndex].click();\r\n            }\r\n            break;\r\n        case UpKeyCode:\r\n            event.preventDefault();\r\n            focuseNextItem(-1);\r\n            break;\r\n        case DownKeyCode:\r\n            event.preventDefault();\r\n            focuseNextItem(1);\r\n            break;\r\n    }\r\n}\r\n\r\nfunction focuseNextItem(offset) {\r\n    if(!chooserItems || !itemToDragUnitMap)\r\n        return;\r\n\r\n    focusedItemIndex = focusedItemIndex + offset;\r\n    focusedItemIndex = focusedItemIndex < 0 ? chooserItems.length - 1 : focusedItemIndex;\r\n    focusedItemIndex = focusedItemIndex % chooserItems.length;\r\n\r\n    const unit = itemToFocusUnitMap.get(chooserItems[focusedItemIndex]);\r\n    if(unit) unit.focus();\r\n}\r\n\r\nfunction onFocusedItemChanged(item) {\r\n    focusedItemIndex = chooserItems.indexOf(item);\r\n}\r\nfunction onLoseFocus(item) {\r\n    if(focusedItemIndex === chooserItems.indexOf(item)) {\r\n        if(focusedItemIndex === chooserItems.length - 1 && exitButtonFocusUnit)\r\n            exitButtonFocusUnit.focus();\r\n        focusedItemIndex = -1;\r\n    }\r\n}\r\nfunction onMouseClick(item) {\r\n    if(getNeedFocusContent())\r\n        setNeedFocusContent(false);\r\n}\r\n\r\nfunction attachEvents(item, abs_container) {\r\n    if(item._dx_server_ref) {\r\n        let dragAndDropUnit = itemToDragUnitMap.get(item);\r\n        if(!dragAndDropUnit) {\r\n            dragAndDropUnit = new DragAndDropUnit(item, item.parentNode, GetItemWithBound, \".column-chooser-drag-icon-owner\", getZeroPoint, isModal);\r\n\r\n            dragAndDropUnit.onDragStart = handleDragStart;\r\n            dragAndDropUnit.onDrag = MoveItems;\r\n            dragAndDropUnit.onDragCancel = onDragCancel;\r\n            dragAndDropUnit.onDropAnimationEnd = onDropAnimationEnd;\r\n            itemToDragUnitMap.set(item, dragAndDropUnit);\r\n        }\r\n        dragAndDropUnit.reset();\r\n    }\r\n    item.classList.remove(\"up\");\r\n    item.classList.remove(\"down\");\r\n    item.classList.remove(\"freeze\");\r\n\r\n    let focusUnit = itemToFocusUnitMap.get(item);\r\n    if(!focusUnit) {\r\n        focusUnit = new FocusUnit(item, \".custom-control-input\", abs_container, isModal || !needFocusContent);\r\n        focusUnit.onFocus = onFocusedItemChanged;\r\n        focusUnit.onBlur = onLoseFocus;\r\n        focusUnit.onClick = onMouseClick;\r\n        itemToFocusUnitMap.set(item, focusUnit);\r\n    }\r\n    focusUnit.reset();\r\n}\r\nfunction getItem(point) {\r\n    return chooserItems.find(function(item, _, __) { return isTarget(item, point.y); });\r\n}\r\nfunction GetItemWithBound(point) {\r\n    const item = getItem(point);\r\n    if(!item)\r\n        return null;\r\n    return { item: item, relativeRect: getClientRectFor(item) };\r\n}\r\n\r\nfunction resetDraggableItem() {\r\n    if(sourceItem && sourceItem.style) {\r\n        const unit = itemToDragUnitMap.get(sourceItem);\r\n        if(unit) unit.reset();\r\n        const f_unit = itemToFocusUnitMap.get(sourceItem);\r\n        if(f_unit) f_unit.reset();\r\n        sourceIndex = -1;\r\n        sourceItem.childNodes.forEach(function(chl) { if(chl.style) chl.style.visibility = \"\"; });\r\n        sourceItem = null;\r\n    }\r\n}\r\n\r\nfunction handleDragStart(e) {\r\n    sourceItem = e;\r\n    sourceIndex = chooserItems.indexOf(sourceItem);\r\n    chooserItems.forEach(function(el) {\r\n        el.blur();\r\n        if(el !== sourceItem) el.classList.add(\"freeze\");\r\n    });\r\n    sourceItem.childNodes.forEach(function(chl) { if(chl.style) chl.style.visibility = \"hidden\"; });\r\n    const f_unit = itemToFocusUnitMap.get(sourceItem);\r\n    if(f_unit) f_unit.stop();\r\n}\r\n\r\nfunction getClientRectFor(item) {\r\n    let rect = mapRect.get(item);\r\n    if(rect)\r\n        return rect;\r\n    const r = getClientRect(item);\r\n    const zero = getZeroPoint();\r\n    rect = new RectBlz(r.x - zero.x, r.y - zero.y, r.width, r.height);\r\n    mapRect.set(item, rect);\r\n    return rect;\r\n}\r\n\r\nfunction isTarget(item, y) {\r\n    const r = getClientRectFor(item);\r\n    if(!r)\r\n        return false;\r\n    return r.top <= y && y <= r.bottom;\r\n}\r\n\r\nfunction onDropAnimationEnd(s, t) {\r\n    chooserItems.forEach(function(item) { itemToDragUnitMap.get(item).stop(); });\r\n\r\n    const curtainForContainer = container.cloneNode(true);\r\n\r\n    eraseBlazorIdentificators(curtainForContainer);\r\n    curtainForContainer.style[\"z-index\"] = 2000;\r\n    container.parentNode.appendChild(curtainForContainer);\r\n\r\n    _dotnetHelper.invokeMethodAsync(\"OnElementsExchange\", s._dx_server_ref, t._dx_server_ref)\r\n        .catch(function(e) { console.error(e); })\r\n        .finally(() => curtainForContainer.remove());\r\n}\r\n\r\nfunction onDragCancel(s) {\r\n    chooserItems.forEach(function(el) {\r\n        el.classList.remove(\"up\");\r\n        el.classList.remove(\"down\");\r\n        el.classList.remove(\"freeze\");\r\n    });\r\n    resetDraggableItem();\r\n}\r\n\r\nfunction getZeroPoint() {\r\n    const c = isModal ? container.parentNode : container;\r\n    const rect = getClientRect(c);\r\n    if(c.scrollTop !== 0)\r\n        return { x: rect.x, y: rect.y - c.scrollTop };\r\n    return rect.location;\r\n}\r\n\r\nfunction updateMetaData(item) {\r\n    const unit = itemToFocusUnitMap.get(item);\r\n    unit.updateStyleMetadata();\r\n}\r\n\r\nfunction MoveItems(item, e) {\r\n    if(!item)\r\n        return;\r\n    if(sourceIndex === -1)\r\n        sourceIndex = chooserItems.indexOf(item);\r\n\r\n    const target = getItem(e.centerOfDraggingObject);\r\n    if(!target)\r\n        return;\r\n\r\n    const index = chooserItems.indexOf(target);\r\n\r\n    let needMoveItems = false;\r\n    if(sourceIndex < index) {\r\n        chooserItems.forEach(function(el) {\r\n            if(sourceItem === el)\r\n                needMoveItems = true;\r\n            if(needMoveItems) {\r\n                updateMetaData(el);\r\n                el.classList.add(\"up\");\r\n            }\r\n            else\r\n                el.classList.remove(\"up\", \"down\");\r\n            if(target === el)\r\n                needMoveItems = false;\r\n        });\r\n    }\r\n    else if(sourceIndex > index) {\r\n        chooserItems.forEach(function(el) {\r\n            if(target === el)\r\n                needMoveItems = true;\r\n            if(needMoveItems) {\r\n                updateMetaData(el);\r\n                el.classList.add(\"down\");\r\n            }\r\n            else\r\n                el.classList.remove(\"up\", \"down\");\r\n            if(sourceItem === el)\r\n                needMoveItems = false;\r\n        });\r\n    }\r\n    else\r\n        chooserItems.forEach(function(el) { el.classList.remove(\"up\", \"down\"); });\r\n}\r\n\r\nexport function dispose(blazorComponent) {\r\n    if(blazorComponent._id !== _dotnetHelper._id)\r\n        return;\r\n    blazorComponent.dispose();\r\n    itemToDragUnitMap.forEach(function(v, k) {\r\n        v.dispose();\r\n        if(k._dx_server_ref)\r\n            k._dx_server_ref.dispose();\r\n    });\r\n    itemToFocusUnitMap.forEach(function(v) { v.dispose(); });\r\n\r\n    chooserItems = null;\r\n    sourceItem = null;\r\n    sourceIndex = -1;\r\n    container = null;\r\n    mapRect = null;\r\n    itemToDragUnitMap = null;\r\n    itemToFocusUnitMap = null;\r\n    _dotnetHelper = null;\r\n    if(events) events.dispose();\r\n    events = null;\r\n}\r\n\r\nexport default { init, dispose };\r\n"],"names":[],"mappings":"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"}