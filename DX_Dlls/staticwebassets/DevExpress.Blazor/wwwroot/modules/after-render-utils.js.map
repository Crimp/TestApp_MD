{"version":3,"file":"after-render-utils.js","sources":["../../Scripts/_bundles/after-render-utils.ts"],"sourcesContent":["import devices from \"../utils/devices\";\r\nexport function scrollIntoView(element, containerId) {\r\n    const container = element.ownerDocument.getElementById(containerId);\r\n    if (container !== null) {\r\n        const parentBox = container.getBoundingClientRect();\r\n        const elementBox = element.getBoundingClientRect();\r\n        return new Promise((resolve, _) => {\r\n            requestAnimationFrame((_) => {\r\n                if (!(element.compareDocumentPosition(document.body) & Node.DOCUMENT_POSITION_DISCONNECTED) &&\r\n                    parentBox.top > elementBox.top && container.scrollTop > 0)\r\n                    container.scrollTop = 0;\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n    return Promise.resolve();\r\n}\r\n// https://learn.microsoft.com/en-us/aspnet/core/blazor/file-downloads\r\nexport async function downloadFileFromStream(fileName, streamReference) {\r\n    const arrayBuffer = await streamReference.arrayBuffer();\r\n    const fileUrl = URL.createObjectURL(new Blob([arrayBuffer]));\r\n    const element = document.createElement(\"a\");\r\n    document.body.appendChild(element); // fix T1164089 - blazor maui\r\n    element.href = fileUrl;\r\n    element.download = fileName !== null && fileName !== void 0 ? fileName : \"\";\r\n    element.click();\r\n    element.remove();\r\n    URL.revokeObjectURL(fileUrl);\r\n    return Promise.resolve();\r\n}\r\nexport async function sendFileOptions(mainElement, streamReference) {\r\n    const uploadControl = mainElement.isConnected ? mainElement : null;\r\n    if (uploadControl !== null) {\r\n        const arrayBuffer = await streamReference.arrayBuffer();\r\n        const serializedOptions = new TextDecoder(\"utf-8\").decode(arrayBuffer);\r\n        const options = JSON.parse(serializedOptions);\r\n        uploadControl.processUploadedFilesOptions(options);\r\n    }\r\n    return Promise.resolve();\r\n}\r\nexport async function waitUntilElementLoaded(tagName) {\r\n    const element = customElements.get(tagName);\r\n    if (element)\r\n        return;\r\n    await customElements.whenDefined(tagName);\r\n}\r\nexport async function showFileSelectorDialog(mainElement) {\r\n    const uploadControl = mainElement.isConnected ? mainElement : null;\r\n    if (uploadControl !== null)\r\n        uploadControl.showFileSelectorDialog();\r\n    return Promise.resolve();\r\n}\r\nexport async function invokeMethod(target, methodName, ...args) {\r\n    return new Promise((resolve, reject) => {\r\n        try {\r\n            const method = target[methodName];\r\n            const result = method.call(target, args);\r\n            if (result.then)\r\n                result.then(resolve);\r\n            else\r\n                resolve(result);\r\n        }\r\n        catch (e) {\r\n            reject(e);\r\n        }\r\n    });\r\n}\r\nexport async function copyToClipboard(textToCopy) {\r\n    if (navigator.clipboard && window.isSecureContext)\r\n        return await navigator.clipboard.writeText(textToCopy);\r\n    const textArea = document.createElement(\"textarea\");\r\n    textArea.value = textToCopy;\r\n    textArea.style.position = \"absolute\";\r\n    textArea.style.left = \"-999999px\";\r\n    textArea.style.height = \"0px\";\r\n    textArea.style.width = \"0px\";\r\n    document.body.prepend(textArea);\r\n    textArea.select();\r\n    try {\r\n        document.execCommand(\"copy\");\r\n    }\r\n    catch (error) {\r\n        console.error(error);\r\n    }\r\n    finally {\r\n        textArea.remove();\r\n    }\r\n}\r\nclass GetLayoutAttributes {\r\n    constructor(targetWidth, targetHeight, targetPositionX, targetPositionY, viewPortWidth, viewPortHeight, viewPortScrollWidth, viewPortScrollHeight) {\r\n        this.targetWidth = 0;\r\n        this.targetHeight = 0;\r\n        this.targetPositionX = 0;\r\n        this.targetPositionY = 0;\r\n        this.viewPortWidth = 0;\r\n        this.viewPortHeight = 0;\r\n        this.viewPortScrollHeight = 0;\r\n        this.viewPortScrollWidth = 0;\r\n        this.targetWidth = targetWidth;\r\n        this.targetHeight = targetHeight;\r\n        this.targetPositionX = targetPositionX;\r\n        this.targetPositionY = targetPositionY;\r\n        this.viewPortWidth = viewPortWidth;\r\n        this.viewPortHeight = viewPortHeight;\r\n        this.viewPortScrollWidth = viewPortScrollWidth;\r\n        this.viewPortScrollHeight = viewPortScrollHeight;\r\n    }\r\n}\r\nexport function getElement(htmlElement) {\r\n    if (!htmlElement)\r\n        throw new Error(\"failed\");\r\n    return htmlElement;\r\n}\r\nexport function getLayoutAttributes(positionTarget) {\r\n    const positionTargetElement = document.querySelector(positionTarget);\r\n    if (positionTarget === null)\r\n        throw new Error(\"Position target does not exist\");\r\n    if (positionTargetElement === null) {\r\n        console.warn(\"Could not find an element by the specified position target\");\r\n        return getDefaultLayoutAttributes();\r\n    }\r\n    const boundingRect = positionTargetElement.getBoundingClientRect();\r\n    return new GetLayoutAttributes(Math.floor(boundingRect.width), Math.floor(boundingRect.height), Math.floor(boundingRect.x), Math.floor(boundingRect.y), Math.floor(window.innerWidth), Math.floor(window.innerHeight), Math.floor(window.scrollX), Math.floor(window.scrollY));\r\n}\r\nexport function getDeviceInfo(useUAData, useNativeDetection) {\r\n    return devices.getDeviceInfo(useUAData, useNativeDetection);\r\n}\r\nexport function getInputValue(element) {\r\n    return element.value;\r\n}\r\nexport function setInputValue(element, value) {\r\n    element.value = value;\r\n}\r\nfunction getDefaultLayoutAttributes() {\r\n    const bodyElement = document.querySelector(\"body\");\r\n    const boundingRect = bodyElement.getBoundingClientRect();\r\n    return new GetLayoutAttributes(Math.floor(boundingRect.width / 2), Math.floor(boundingRect.height), Math.floor(boundingRect.width / 2), Math.floor(boundingRect.height), Math.floor(window.innerWidth), Math.floor(window.innerHeight), Math.floor(window.scrollX), Math.floor(window.scrollY));\r\n}\r\n"],"names":[],"mappings":"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"}