{"version":3,"file":"dx-menu-item-24.2.js","sources":["../../Scripts/menu/events.ts","../../Scripts/menu/dx-menu-item.ts"],"sourcesContent":["import { CustomEventsHelper } from \"../blazor/custom-events-helper\";\r\nimport { MenuConstants } from \"./constants\";\r\nexport class MenuCollapseChangedEvent extends CustomEvent {\r\n    constructor(collapsed) {\r\n        super(MenuCollapseChangedEvent.eventName, {\r\n            bubbles: true,\r\n            composed: true,\r\n            detail: new MenuCollapseChangedEventContext(collapsed)\r\n        });\r\n    }\r\n}\r\nMenuCollapseChangedEvent.eventName = `${MenuConstants.menuComponentName}.collapse-changed`;\r\nexport class MenuCollapseChangedEventContext {\r\n    constructor(collapsed) {\r\n        this.collapsed = collapsed;\r\n    }\r\n}\r\nCustomEventsHelper.register(MenuCollapseChangedEvent.eventName, x => {\r\n    return x.detail;\r\n});\r\nexport class MenuItemConnectedEvent extends CustomEvent {\r\n    constructor(menuItem) {\r\n        super(MenuItemConnectedEvent.eventName, {\r\n            bubbles: true,\r\n            composed: true,\r\n            detail: menuItem\r\n        });\r\n    }\r\n}\r\nMenuItemConnectedEvent.eventName = `${MenuConstants.menuItemComponentName}.connected`;\r\n","import { __decorate } from \"tslib\";\r\nimport SingleSlotElementBase from \"../common/single-slot-element-base\";\r\nimport { property, customElement } from \"lit/decorators.js\";\r\nimport { MenuConstants, MenuCssClasses } from \"./constants\";\r\nimport { MenuItemConnectedEvent } from \"./events\";\r\nlet DxMenuItem = class DxMenuItem extends SingleSlotElementBase {\r\n    constructor() {\r\n        super();\r\n        this._prevActiveElement = null;\r\n        this.menu = null;\r\n        this.adaptivePriority = -1;\r\n        this.canCrop = false;\r\n        this.isVisible = false;\r\n        this._onButtonFocusInHandler = this.onButtonFocusIn.bind(this);\r\n        this.subscribeToEvents();\r\n    }\r\n    connectedCallback() {\r\n        super.connectedCallback();\r\n        this.dispatchEvent(new MenuItemConnectedEvent(this));\r\n    }\r\n    disconnectedCallback() {\r\n        var _a;\r\n        (_a = this.menu) === null || _a === void 0 ? void 0 : _a.onItemDisconnected();\r\n        super.disconnectedCallback();\r\n    }\r\n    isDropDownItem(element) {\r\n        return element.classList.contains(MenuCssClasses.dropdownItem);\r\n    }\r\n    subscribeToEvents() {\r\n        this.addEventListener(\"pointerdown\", event => {\r\n            if (event.target instanceof HTMLElement && this.isDropDownItem(event.target)) {\r\n                if (document.activeElement instanceof HTMLElement)\r\n                    this._prevActiveElement = document.activeElement;\r\n                event.target.addEventListener(\"focusin\", this._onButtonFocusInHandler);\r\n            }\r\n        });\r\n    }\r\n    onButtonFocusIn(event) {\r\n        if (!event.currentTarget)\r\n            return;\r\n        event.currentTarget.removeEventListener(\"focusin\", this._onButtonFocusInHandler);\r\n        if (this._prevActiveElement)\r\n            this._prevActiveElement.focus();\r\n        else\r\n            event.currentTarget.blur();\r\n    }\r\n};\r\n__decorate([\r\n    property({ type: Number, attribute: \"adaptive-priority\" })\r\n], DxMenuItem.prototype, \"adaptivePriority\", void 0);\r\n__decorate([\r\n    property({ type: Boolean, attribute: \"can-crop\" })\r\n], DxMenuItem.prototype, \"canCrop\", void 0);\r\nDxMenuItem = __decorate([\r\n    customElement(MenuConstants.menuItemComponentName)\r\n], DxMenuItem);\r\nexport { DxMenuItem };\r\nfunction loadModule() { }\r\nexport default { loadModule };\r\n"],"names":["property","customElement"],"mappings":"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"}