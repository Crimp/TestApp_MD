{"version":3,"file":"dx-check-internal-24.2.js","sources":["../../Scripts/editors/dx-check-internal.ts"],"sourcesContent":["import { DxHTMLElementBase } from \"../common/dx-html-element-base\";\r\nexport var CheckState;\r\n(function (CheckState) {\r\n    CheckState[CheckState[\"Indeterminate\"] = 0] = \"Indeterminate\";\r\n    CheckState[CheckState[\"Checked\"] = 1] = \"Checked\";\r\n    CheckState[CheckState[\"Unchecked\"] = 2] = \"Unchecked\";\r\n})(CheckState || (CheckState = {}));\r\nexport const DxCheckBoxTagName = \"dxbl-check\";\r\nexport var CheckInternalAttributes;\r\n(function (CheckInternalAttributes) {\r\n    CheckInternalAttributes[\"checkState\"] = \"check-state\";\r\n    CheckInternalAttributes[\"allowIndeterminateStateByClick\"] = \"allow-indeterminate-state-by-click\";\r\n    CheckInternalAttributes[\"isReadOnly\"] = \"is-read-only\";\r\n})(CheckInternalAttributes || (CheckInternalAttributes = {}));\r\nexport class DxCheckInternal extends DxHTMLElementBase {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._checkState = CheckState.Unchecked;\r\n        this._allowIndeterminateStateByClick = false;\r\n        this._isReadOnly = false;\r\n        this.boundOnInputChangeHandler = this.onInputChange.bind(this);\r\n        this.boundOnInputClickHandler = this.onInputClick.bind(this);\r\n    }\r\n    get checkState() {\r\n        return this._checkState;\r\n    }\r\n    set checkState(value) {\r\n        this._checkState = value;\r\n        this.applyCheckStateToInputElement();\r\n    }\r\n    get allowIndeterminateStateByClick() {\r\n        return this._allowIndeterminateStateByClick;\r\n    }\r\n    set allowIndeterminateStateByClick(value) {\r\n        this._allowIndeterminateStateByClick = value;\r\n    }\r\n    get isReadOnly() {\r\n        return this._isReadOnly;\r\n    }\r\n    set isReadOnly(value) {\r\n        this._isReadOnly = value;\r\n    }\r\n    initializeComponent() {\r\n        super.initializeComponent();\r\n        this.getInputElement().addEventListener(\"change\", this.boundOnInputChangeHandler);\r\n        this.getInputElement().addEventListener(\"click\", this.boundOnInputClickHandler);\r\n    }\r\n    disposeComponent() {\r\n        var _a, _b;\r\n        (_a = this.getInputElement()) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"change\", this.boundOnInputChangeHandler);\r\n        (_b = this.getInputElement()) === null || _b === void 0 ? void 0 : _b.removeEventListener(\"click\", this.boundOnInputClickHandler);\r\n        super.disposeComponent();\r\n    }\r\n    getInputElement() {\r\n        return this.querySelector(\"input\");\r\n    }\r\n    get value() {\r\n        if (this.checkState === CheckState.Indeterminate)\r\n            return \"\";\r\n        return Boolean(this.checkState === CheckState.Checked).toString();\r\n    }\r\n    getNextCheckState() {\r\n        let nextState = this.checkState + 1;\r\n        if (nextState > CheckState.Unchecked)\r\n            nextState = this.allowIndeterminateStateByClick ? CheckState.Indeterminate : CheckState.Checked;\r\n        return nextState;\r\n    }\r\n    onInputChange(e) {\r\n        if (this.isReadOnly) {\r\n            e.stopImmediatePropagation();\r\n            return;\r\n        }\r\n        this.checkState = this.getNextCheckState();\r\n        this.applyCheckStateToInputElement();\r\n        this.dispatchEvent(new Event(\"change\", { bubbles: true }));\r\n    }\r\n    onInputClick(e) {\r\n        if (this.isReadOnly)\r\n            e.preventDefault();\r\n    }\r\n    applyCheckStateToInputElement() {\r\n        const input = this.getInputElement();\r\n        if (!input)\r\n            return;\r\n        input.indeterminate = this.checkState === CheckState.Indeterminate;\r\n        input.checked = this.checkState === CheckState.Checked;\r\n    }\r\n    static get observedAttributes() {\r\n        return [\r\n            CheckInternalAttributes.checkState,\r\n            CheckInternalAttributes.allowIndeterminateStateByClick,\r\n            CheckInternalAttributes.isReadOnly\r\n        ];\r\n    }\r\n    attributeChangedCallback(name, oldVal, newVal) {\r\n        switch (name) {\r\n            case CheckInternalAttributes.checkState:\r\n                this.checkState = Number(newVal);\r\n                break;\r\n            case CheckInternalAttributes.allowIndeterminateStateByClick:\r\n                this.allowIndeterminateStateByClick = newVal !== null;\r\n                break;\r\n            case CheckInternalAttributes.isReadOnly:\r\n                this.isReadOnly = newVal !== null;\r\n                break;\r\n        }\r\n    }\r\n}\r\ncustomElements.define(DxCheckBoxTagName, DxCheckInternal);\r\nfunction loadModule() { }\r\nexport default { loadModule };\r\n"],"names":[],"mappings":"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"}