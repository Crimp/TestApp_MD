{"version":3,"file":"adaptivedropdowncomponents-24.2.js","sources":["../../Scripts/popup/adaptivedropdown.ts","../../Scripts/popup/adaptivedropdowncomponents.ts"],"sourcesContent":["var DxAdaptiveDropDown_1;\r\nimport { __decorate } from \"tslib\";\r\nimport { LitElement } from \"lit\";\r\nimport { customElement, property } from \"lit/decorators.js\";\r\nimport { isIPopupAccessor } from \"../utils/typeguard\";\r\nexport const dxAdaptiveDropDownTagName = \"dxbl-adaptive-dropdown\";\r\nlet DxAdaptiveDropDown = DxAdaptiveDropDown_1 = class DxAdaptiveDropDown extends LitElement {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.slotChangedHandler = this.handleSlotChanged.bind(this);\r\n        this.interceptorSlotChangedHandler = this.handleInterceptorSlotChange.bind(this);\r\n        this.interceptor = null;\r\n        this.resizeHandler = this.handleResize.bind(this);\r\n        this._adaptivityEnabled = false;\r\n        this._popupAccessor = null;\r\n        this.adaptiveWidth = 576;\r\n    }\r\n    get popup() {\r\n        var _a;\r\n        return ((_a = this._popupAccessor) === null || _a === void 0 ? void 0 : _a.popup) || null;\r\n    }\r\n    get popupBase() {\r\n        var _a;\r\n        return ((_a = this._popupAccessor) === null || _a === void 0 ? void 0 : _a.popupBase) || null;\r\n    }\r\n    get adaptivityEnabled() {\r\n        return this._adaptivityEnabled;\r\n    }\r\n    set adaptivityEnabled(val) {\r\n        if (this._adaptivityEnabled !== val) {\r\n            this._adaptivityEnabled = val;\r\n            this.raiseEnableAdaptivity(val);\r\n        }\r\n    }\r\n    createRenderRoot() {\r\n        const root = super.createRenderRoot();\r\n        const slot = document.createElement(\"slot\");\r\n        root.appendChild(slot);\r\n        slot.addEventListener(\"slotchange\", this.slotChangedHandler);\r\n        const slotInterceptor = document.createElement(\"slot\");\r\n        slotInterceptor.name = \"interceptor\";\r\n        root.appendChild(slotInterceptor);\r\n        slotInterceptor.addEventListener(\"slotchange\", this.interceptorSlotChangedHandler);\r\n        return root;\r\n    }\r\n    connectedCallback() {\r\n        super.connectedCallback();\r\n        window.addEventListener(\"resize\", this.resizeHandler, { passive: true });\r\n        setTimeout(() => this.updateAdaptivity());\r\n    }\r\n    disconnectedCallback() {\r\n        super.disconnectedCallback();\r\n        window.removeEventListener(\"resize\", this.resizeHandler);\r\n    }\r\n    handleResize(_) {\r\n        this.updateAdaptivity();\r\n    }\r\n    updateAdaptivity() {\r\n        this.adaptivityEnabled = this.getActualAdaptivityEnabled();\r\n        this.raiseEvent(\"adaptivityChanged\", {\r\n            enabled: this.adaptivityEnabled,\r\n        });\r\n    }\r\n    getActualAdaptivityEnabled() {\r\n        return window.innerWidth <= this.adaptiveWidth;\r\n    }\r\n    handleSlotChanged(e) {\r\n        const slot = e.target;\r\n        const elements = slot.assignedNodes();\r\n        this._popupAccessor = DxAdaptiveDropDown_1.findPopupAccessor(elements);\r\n    }\r\n    handleInterceptorSlotChange(e) {\r\n        const slot = e.target;\r\n        const elements = slot.assignedNodes();\r\n        this.interceptor = elements[0];\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\n    raiseEvent(name, args) {\r\n        if (!this.interceptor || !this.interceptor.raise)\r\n            return;\r\n        this.interceptor.raise(name, args);\r\n    }\r\n    raiseEnableAdaptivity(enabled) {\r\n        this.raiseEvent(\"adaptivityChanged\", {\r\n            enabled: enabled,\r\n        });\r\n    }\r\n    static findPopupAccessor(elements) {\r\n        const popupAccessor = elements.find(e => isIPopupAccessor(e));\r\n        if (!popupAccessor)\r\n            return null;\r\n        return popupAccessor;\r\n    }\r\n};\r\n__decorate([\r\n    property({ type: Number, attribute: \"adaptive-width\" })\r\n], DxAdaptiveDropDown.prototype, \"adaptiveWidth\", void 0);\r\nDxAdaptiveDropDown = DxAdaptiveDropDown_1 = __decorate([\r\n    customElement(dxAdaptiveDropDownTagName)\r\n], DxAdaptiveDropDown);\r\nexport { DxAdaptiveDropDown };\r\n","import { registeredComponents as dropDownRegisteredComponents } from \"./dropdowncomponents\";\r\nimport { registeredComponents as modalRegisteredComponents } from \"./modalcomponents\";\r\nimport { dxAdaptiveDropDownTagName } from \"./adaptivedropdown\";\r\nimport { dxEventsInterceptorTagName } from \"./events-interseptor\";\r\nexport function init() {\r\n}\r\nexport default { dropDownRegisteredComponents, modalRegisteredComponents, init, dxAdaptiveDropDownTagName, dxEventsInterceptorTagName };\r\n"],"names":["LitElement","property","customElement","dropDownRegisteredComponents","modalRegisteredComponents"],"mappings":"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"}