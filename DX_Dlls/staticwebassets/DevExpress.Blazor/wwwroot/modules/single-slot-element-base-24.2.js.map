{"version":3,"file":"single-slot-element-base-24.2.js","sources":["../../Scripts/common/single-slot-element-base.ts"],"sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { property } from \"lit/decorators.js\";\r\nimport DataQaUtils from \"../utils/data-qa-utils\";\r\nimport { GlobalConstants } from \"./const\";\r\nimport { DxUIElement } from \"./dx-ui-element\";\r\nlet _inEnchancedNavigation = false;\r\nconst subscribeOnEnchancedNavigation = (callback) => {\r\n    var _a;\r\n    const enchancedCallback = () => {\r\n        var _a;\r\n        _inEnchancedNavigation = true;\r\n        callback();\r\n        (_a = window.Blazor) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"enhancedload\", enchancedCallback);\r\n        _inEnchancedNavigation = false;\r\n    };\r\n    (_a = window.Blazor) === null || _a === void 0 ? void 0 : _a.addEventListener(\"enhancedload\", enchancedCallback);\r\n    return () => {\r\n        var _a;\r\n        if (!_inEnchancedNavigation)\r\n            (_a = window.Blazor) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"enhancedload\", enchancedCallback);\r\n    };\r\n};\r\nexport default class SingleSlotElementBase extends DxUIElement {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.boundSlotChangedHandler = this.onSlotChanged.bind(this);\r\n        this.renderGuid = \"\";\r\n        this._removeEnchancedNavigationSubscription = () => { };\r\n    }\r\n    contentChanged() { }\r\n    connectedOrContentChanged() { }\r\n    needReasignAttributes() { return true; }\r\n    connectedCallback() {\r\n        super.connectedCallback();\r\n        this.connectedOrContentChanged();\r\n    }\r\n    restoreState() {\r\n        if (this.needReasignAttributes()) {\r\n            this.constructor[\"observedAttributes\"].forEach(attributeName => {\r\n                if (attributeName !== GlobalConstants.renderGuidAttributeName && this.hasAttribute(attributeName)) {\r\n                    const currentValue = this.getAttribute(attributeName);\r\n                    this.setAttribute(attributeName, \"\");\r\n                    this.setAttribute(attributeName, currentValue);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        var _a;\r\n        if (name === GlobalConstants.renderGuidAttributeName && oldValue && ((_a = window.Blazor) === null || _a === void 0 ? void 0 : _a.addEventListener)) {\r\n            this._removeEnchancedNavigationSubscription = subscribeOnEnchancedNavigation(() => this.restoreState());\r\n            return;\r\n        }\r\n        super.attributeChangedCallback(name, oldValue, newValue);\r\n    }\r\n    disconnectedCallback() {\r\n        super.disconnectedCallback();\r\n        this._removeEnchancedNavigationSubscription();\r\n    }\r\n    onSlotChanged(_) {\r\n        this.connectedOrContentChanged();\r\n        this.contentChanged();\r\n        if (!this.readyOnConnectedCallback)\r\n            DataQaUtils.setLoaded(this);\r\n    }\r\n    createRenderRoot() {\r\n        const root = super.createRenderRoot();\r\n        const slot = document.createElement(\"slot\");\r\n        root.appendChild(slot);\r\n        slot.addEventListener(\"slotchange\", this.boundSlotChangedHandler);\r\n        return root;\r\n    }\r\n}\r\n__decorate([\r\n    property({ type: String, attribute: GlobalConstants.renderGuidAttributeName })\r\n], SingleSlotElementBase.prototype, \"renderGuid\", void 0);\r\n"],"names":["property"],"mappings":"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"}